\documentclass[
  color,
  table,
  nolof,
  oneside,
]{fithesis3}

\thesissetup{
	faculty  = fi,
	title    = Sadzba bibliografie podľa normy ISO 690,
	author   = Dávid Lupták,
	advisor  = {Doc.\ RNDr.\ Petr Sojka,\ Ph.D.},
	keywords = {ISO 690, BibLaTeX, LaTeX, bibliografia, citácie, bibliografický štýl, citačný štýl},
  TeXkeywords = {ISO 690, BibLaTeX, \LaTeX, bibliografia, citácie, bibliografický štýl, citačný štýl},
  assignment  = {},
}

\thesislong{abstract}{Cieľom tejto bakalárskej práce je pripraviť bibliografický a citačný štýl pre balík BibLaTeX, ktorý bude dodržiavať pravidlá normy ISO 690. V~teoretickej časti práce sú predstavené možnosti sadzby bibliografie v~systéme \LaTeX\ a popísané vybrané citačné produkty s~podporou danej normy.}

\thesislong{thanks}{Rád by som poďakoval vedúcemu práce Doc.\ RNDr.\ Petrovi Sojkovi,\ Ph.D. za povzbudzujúce konzultácie a metodické vedenie práce, konzultantovi Vítovi Novotnému za technické rady a konzultácie, osobe menom Moewew za konzultácie ohľadom samotnej implementácie a samozrejme Michalovi Hoftichovi za stretnutie a za referenčnú implementáciu.}


\usepackage[slovak]{babel}
\usepackage{minted}  %% Highlighted source code for LaTeX
\usepackage{doc}  %% Macro \BibTeX
\usepackage[toc,page]{appendix} %% Puts a header into the ToC and a title into document at the beginning of appendices
\usepackage{tabularx}  %% Tabulars with adjustable-width columns
\usepackage{booktabs}  %% Publication quality tables in LaTeX -- \toprule, etc.
\usepackage[labelfont=bf]{caption} %% Typeset table captions in bold font
\usepackage{multirow}  %% Create tabular cells spanning multiple rows
\usepackage{paralist}  %% Typeset horizontal lists
\usepackage{amssymb}  %% Typesetting \checkmark



\usepackage{csquotes}  %% Context sensitive quotation facilities
\usepackage[style=iso-numeric]{biblatex}

\addbibresource{resource.bib}

\newcommand{\cmd}[1]{\mintinline{latex}{#1}}

\thesisload %% hyperref package needs to be loaded before glossaries
\usepackage[
  xindy,  %% sorting non-Latin characters
  acronym,  %% use acronyms
  nomain,  %% no glossary .gl* files
  toc,  %% included in Table of Content
]{glossaries}  %% Create (glossaries and) lists of acronyms
\makeglossaries  %% Generate the glossary
\input{acronyms}  %% Input acronyms definitions

\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% UVOD

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Úvod}

Všeobecne platným cieľom tvorby záverečných prác je preukázať schopnosť študenta pracovať s~odbornými textami. Problematickou oblasťou sa zdá byť práve citovanie použitých zdrojov s~ohľadom na dodržiavanie istých citačných pravidiel. Tieto pravidlá sa môžu riadiť rôznymi normami, v~českom akademickom prostredí prevláda tvorba bibliografických odkazov a citácií podľa normy \gls{iso} 690~\cite{Kratochvil2011}.

Kľúčom k~úspechu je nepochybne výber správneho nástroja. K~dispozícii je nespočetné množstvo generátorov citácií alebo citačných manažérov, ktoré citovanie podľa danej normy poskytujú. Tvorba kvalifikačnej práce je však komplexný proces a preto pri nej nie je možné pracovať s~bibliografickými záznamami izolovane od písania samotného textu. Potrebnú synergiu týchto dvoch elementov je možné nájsť v~podobe \LaTeX u -- systému na prípravu dokumentov. Problémom tejto idey je však fakt, že \LaTeX\ dosiaľ nepodporuje citovanie podľa normy \gls{iso} 690 v~balíku BibLaTeX, nástupcovi starodávneho \BibTeX u. Existencia neoficiálnej verzie je dobrým základným pilierom, hoci má táto implementácia množstvo nahlásených problémov a naviac sa riadi predchádzajúcimi verziami noriem. Cieľom tejto práce je zrevidovať neoficiálny balíček \textsf{biblatex-iso690} pre BibLaTeX do takej podoby, aby splňoval najnovšie konvencie dynamicky sa vyvíjajúceho BibLaTeXu a samozrejme naplno splňoval aj samotnú normu \gls{iso} 690.

V~kapitole číslo~\ref{ch:norm} sa nachádza stručné oboznámenie s~normou \gls{iso} 690 a doména jej problematiky, v~nasledujúcej kapitole \ref{ch:facilities:iso690} je prehľad existujúcich programov, nástrojov a služieb implementujúcich podporu pre normu \gls{iso} 690. Táto kapitola má za cieľ poukázať na problematiku normy na praktických príkladoch konkrétnych produktov, a to na ukážkach, kde implementácia chybuje. V~kapitole~\ref{ch:latex:bibliography} sú predstavené možnosti sadzby bibliografie v~systéme \LaTeX\ na prípravu dokumentov a v~poslednej kapitole číslo~\ref{ch:implementation} je náčrt samotnej implementácie balíka \textsf{biblatex-iso690} v~BibLaTeXu, spolu s~vyhodnotením.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% ISO 690

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Norma \glsentrytext{iso} 690}\label{ch:norm}

Tvorba bibliografických odkazov a citácií sa v~minulosti riadila pravidlami noriem \gls{csn} \gls{iso} 690:1996~\cite{csn:iso690:1996} a \gls{csn} \gls{iso} 690-2:2000~\cite{csn:iso690:2:2000}. V~roku 2011 boli tieto dve normy zjednotené a nahradené novou normou \gls{csn} \gls{iso} 690:2011~\cite{csn:iso690:2011}. Množstvo programov, nástrojov a služieb poskytujúcich podporu normy \gls{iso} 690 sa vo svojej implementácii pridržiavalo prevažne starších vydaní noriem, hoci nová verzia už bola v~tom čase k~dispozícii. Tento nesúlad zbytočne viedol k~veľkému množstvu nepresností. Preto je potrebné zdôrazniť, že táto práca sa odkazuje výhradne na poslednú verziu medzinárodnej normy \gls{iso} 690:2010, resp. jej český ekvivalent \gls{csn} \gls{iso} 690 z~roku 2011.

\section{Národný preklad a interpretácie normy}

Preklady noriem sú zabezpečované normalizačnými organizáciami (členmi \gls{iso}) na národnej úrovni~\cite{isoMembershipManual}. Česká technická norma \gls{csn} \gls{iso} 690:2011 bola prijatá prekladom medzinárodnej normy \gls{iso} 690 z~roku 2010. Porovnaním originálnej (anglickej)\footnote{zvykom býva paralelné vydávanie anglickej \gls{iso} 690:2010(E) i francúzskej verzie \gls{iso} 690:2010(F)~\cite{Bratkova2010}} a českej verzie normy sa dá konštatovať, že rámcovo ide o~ekvivalentné verzie (viď~\ref{norm:ambiguous})~\cite{csn:iso690:2011,iso690:2010}.

V~mnohých ohľadoch je však norma nejednoznačná. Na túto skutočnosť poukazujú aj mnohé české interpretácie~\cite{Kratochvil2011,Biernatova2011,Bratkova2011}, ktoré následne tieto nejasnosti istým spôsobom odstraňujú. V~takýchto prípadoch sú tieto interpretácie v~rámci implementácie preferované.

\section{Výklad normy}

K~úspešnému porozumeniu tohoto textu je potrebné vysvetliť dva základné termíny, ktoré častokrát bývajú medzi sebou zamieňané\footnote{potvrdzuje to aj článok o~predstavení originálu normy, ktorý bol napísaný ešte pred vznikom českej verzie normy~\cite{Bratkova2010}; takisto interpretácia normy od tej istej autorky~\cite{Bratkova2011}; viď zároveň aj sekciu \ref{norm:ambiguous}: konkrétne \ref{citation:odkaz} a \ref{reference:citacia}}~\cite{csn:iso690:2011}:

\begin{description}
\item[odkaz] údaj v~texte alebo iný druh obsahu dokumentu na príslušnú bibliografickú citáciu
\item[citácia] dáta popisujúce informačný zdroj alebo jeho časť, dostatočne presne a podrobne na to, aby mohol byť tento zdroj identifikovaný a bolo možné ho vyhľadať
\end{description}

\subsection{Zásada konzistencie}\label{norm:consistency}

Norma \gls{iso} 690 hneď v~úvode svojho výkladu priamo uvádza, že nemá za cieľ definovať konkrétny štýl bibliografického odkazu alebo citácie. Použitý štýl a interpunkcia v~ilustračných príkladoch nie sú súčasťou doporučenia. Tento fakt prináša dve zásadné poznatky:

\begin{enumerate}
\item norma ctí princíp oddelenia formy od obsahu
\item normu nemožno považovať za citačný štýl~\cite{Hala2013}
\end{enumerate}

Zároveň však norma doporučuje, aby bol pre všetky citácie v~dokumente použitý jednotný štýl, formát a interpunkcia. To vďaka princípu oddelenia formy od obsahu, ktorý ctí aj samotný BibLaTeX, možno jednoducho dodržať. Táto zásada konzistencie čerpá z~uvedených ilustračných príkladov v~norme samotnej, interpretácií alebo iných zaužívaných zvyklostí sadzby bibliografie.

\subsection{Poradie prvkov citácie}

Doporučené všeobecné poradie prvkov citácií je nasledovné~\cite{csn:iso690:2011}:

\begin{description}
\item[mená tvorcov] ak sú k~dispozícii
\item[rok] v~prípade citovania metódou \emph{autor-dátum}
\item[názov] citovanej jednotky
\item[typ nosiča] v~prípade potreby
\item[vydanie] okrem prvého
\item[miesto vydania] v~prípade viacerých rovnako významných miest sa z~nich uvádza len prvé
\item[vydavateľ] v~prípade viacerých rovnako významných vydavateľov sa z~nich uvádza len prvý
\item[rok] v~prípade citovania metódou \emph{autor-dátum} sa už na tomto mieste neopakuje, s~výnimkou uvedenia presnejšieho dátumu
\item[edícia] názov a číslo
\item[číslovanie] v~rámci popisovanej jednotky
\item[štandardné identifikátory]
\item[dostupnosť] prístup alebo umiestnenie
\item[dodatočné informácie]
\end{description}

Špecifickejšie poradie prvkov jednotlivých typov citovaných diel rozoberá norma v~samostatnej prílohe. Hoci je táto príloha označená ako informatívna, pre účely implementácie slúži ako vhodná predloha. % rozhodujúci koncept


\section{Nejasné miesta a nepresnosti}\label{norm:ambiguous}

\subsection{Viacjazyčnosť citácie}

Viacjazyčnosť citácie sa viaže na uvádzanie upresňujúcich informácií, ako sú skratky pre slovo \emph{strana}, spojka \emph{a} medzi menami autorov a\,pod. Vo výklade normy však nie je presne definované, kedy sa má používať jazyk, v~ktorom sa píše daný dokument, a kedy jazyk bibliografického záznamu (citovaného diela). Na mnohých miestach norma používa univerzálnu formulu \uv{\emph{\dots údaj by mal byť uvedený v~podobe, v~akej sa objavuje v~preferovanom prameni informácií citovaného dokumentu\dots}}~\cite{csn:iso690:2011}. Takéto tvrdenie môže veľmi jednoducho zapríčiniť porušenie konzistencie naprieč zoznamom bibliografických citácií.

\subsection{Chyby v~samotnej norme}

Hoci je norma \gls{csn} \gls{iso} 690 oficiálnym dokumentom \emph{Úřadu pro technickou normalizaci, metrologii a státní zkušebnictví}, obsahuje až prekvapivo veľké množstvo chybných prekladov (z~angličtiny do češtiny):

\begin{enumerate}
\item \emph{\dots dash and space\dots}\qquad $\rightarrow$\qquad \emph{\dots pomlčka\dots}~\cite[\S\,9.3.6]{csn:iso690:2011}
\item \emph{citation}\qquad $\rightarrow$\qquad \emph{odkaz}\label{citation:odkaz}~\cite[\S\,2.2]{csn:iso690:2011}
\item \emph{reference}\qquad $\rightarrow$\qquad \emph{citácia}\label{reference:citacia}~\cite[\S\,2.15]{csn:iso690:2011}
\end{enumerate}

\noindent Množstvo typografických chýb:

\begin{enumerate}
\item v~texte hovorené o~pomlčke, vysadený je spojovník~\cite[\S\,9.3.6]{csn:iso690:2011}
\item chybne vysádzané odrážky~\cite[\S\,4.5]{csn:iso690:2011}
\end{enumerate}

\noindent Alebo porušovanie svojho vlastného výkladu -- porušenie konzistencie:

\begin{enumerate}
\item chýbajúci názov vydavateľa nahradzuje latinským \emph{sine nomine}, pričom chýbajúci rok nahradzuje českým \emph{bez roku}~\cite{Hala2013}
\item \emph{chaotické striedanie spojovníka a pomlčky}~\cite{Hala2013}
\end{enumerate}

\noindent Týchto pár ukážok má slúžiť len ako ukážka problematiky ohľadne samotnej normy \gls{csn} \gls{iso} 690. Podrobnejšie zhrnutie je prenechané najmä na článok p.\,Tomáša Hálu~\cite{Hala2013}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% EXISTUJUCE IMPLEMENTACIE

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Existujúce riešenia}\label{ch:facilities:iso690}

Dodržiavanie normy \gls{iso} 690 patrí medzi najčastejšie doporučenia pri tvorbe bibliografických odkazov a citácií v~rámci kvalifikačných prác v~akademickom prostredí~\cite{Kratochvil2011}. Preto vzniklo už niekoľko rôznych programov, nástrojov a služieb, ktoré vo svojich implementáciách zahŕňajú podporu pre túto normu. V~tejto kapitole je predstavených niekoľko takých existujúcich riešení.

\section{Citace.com}

Portál citace.com patrí medzi najpoužívanejšie generátory citácií v~Českej republike~\cite{Krcal2014}. Ide o~voľne dostupnú online službu generujúcu citácie podľa normy \gls{csn} \gls{iso} 690:2011. V~rámci veľkého množstva online generátorov citácií predčí ostatné práve svojou jednoduchosťou používania, čomu zodpovedá aj motto portálu \uv{\emph{\dots citovat je snadné}}.

\subsection{Stručná história projektu}

Projekt Citace.com vznikol v~roku 2003, pôvodne ako študentský projekt na Masarykovej univerzite~\cite{Krcal2004:sdruk}. Oficiálne bol predstavený v~roku 2004 pod názvom \emph{Bibliografické citace}~\cite{Krcal2004}, v~súčasnosti je známy už len ako Citace.com. Jeho autormi sú Blanka Farkašová a Martin Krčál.

Spočiatku mal projekt za cieľ poskytnúť užívateľom jednoduchý nástroj na automatické generovanie citácií. Súbežne s~tým však vznikali aj výukové animácie, nápovedy a postupy ako citácie správne vytvárať alebo materiály na osvetu citačnej etiky~\cite{Krcal2004:sdruk}. Neskôr sa z~jednoduchého generátora citácií stal plnohodnotný citačný manažér v~podobe komerčného produktu Citace PRO. Medzi najvýznamnejšie zásluhy projektu Citace.com patrí aj vznik interpretácie normy~\cite{Krcal2012} od autorského kolektívu Olga Biernátová a Jan Sk\r{u}pa~\cite{Biernatova2011}.

\subsection{Podporované typy dokumentov}\label{citace:types}

Služba Citace.com ponúka vo svojej bezplatnej verzii tvorbu citácií pre niekoľko typov dokumentov. Tie sú rozdelené na tlačené (napr. monografie, príspevky v~zborníkoch, seriály) a elektronické, medzi ktoré patria napríklad elektronické monografie, webové stránky alebo príspevky na webe. Okrem základných typov dokumentov je k~dispozícii aj generovanie citácií takých typov, ktoré norma \gls{iso} 690 priamo nepokrýva~\cite{Firstova2011:notincluded}. Generovať citácie je teda možné aj pre:

\begin{itemize}
\item akademické práce (bakalárske, magisterské, diplomové, rigorózne, dizertačné, klauzúrne a ďalšie školské práce)
\item legislatívne dokumenty (zákony, vyhlášky, smernice, nariadenia a ďalšie právne dokumenty)
\end{itemize}

\subsection{Import záznamov}\label{citace:import}

Prihláseným užívateľom služba umožňuje import bibliografických záznamov vo formáte \gls{ris}. Okrem takéhoto manuálneho importu sa dajú bibliografické záznamy získavať aj priamo z~externých knihovníckych systémov a databáz (napr. EBSCO, ProQuest, ScienceDirect, SpringerLink)~\cite{CitacePRO}. Vďaka týmto externým databázam je možné bibliografické záznamy ľahko dohľadať a následne importovať.

Pri použití komerčnej varianty Citace PRO (viac v~časti~\ref{citace:pro}) je dostupná aj možnosť importu záznamov vo formáte \texttt{.xlsx}. Pri tomto importe prebieha mapovanie stĺpcov tabuľky na jednotlivé polia údajov bibliografického záznamu. Je to netradičný, avšak pre istú skupinu užívateľov pohodlný spôsob uchovávania bibliografickej databázy.

\subsection{Export záznamov}\label{citace:export}

Na rozdiel od importu (časť~\ref{citace:import}), export jednotlivých záznamov je dostupný aj pre neprihlásených užívateľov. Podporované formáty sú:

\begin{center}
\hspace*{\fill}
\begin{inparaitem}
\item \gls{ms} Word \hfill
\item \gls{pdf} \hfill
\item \BibTeX \hfill
\item \TeX
\end{inparaitem}
\hspace*{\fill}
\end{center}

\noindent Prihlásený užívateľ má naviac všetky svoje citácie uložené v~zložke, ktorú je možné exportovať ako celok, t.\,j. ako jednu bibliografickú databázu. V~tomto prípade je dostupných viac formátov na export:

\begin{center}
\hspace*{\fill}
\begin{inparaitem}
\item \gls{ms} Word \hfill
\item \gls{ms} Excel \hfill
\item \gls{pdf} \hfill
\item \BibTeX \hfill
\item \TeX \hfill
\item \gls{ris}
\end{inparaitem}
\hspace*{\fill}
\end{center}

\subsection{Citace PRO}\label{citace:pro}

Vyššie spomenutá funkcionalita (časť \ref{citace:types} až \ref{citace:export}) základnej verzie Citace.com je súčasťou aj komerčného produktu Citace PRO. Naviac však Citace PRO ponúka:

\begin{itemize}
\item už spomenuté rozsiahlejšie možnosti importu (časť \ref{citace:import})
\item doplnok pre \gls{ms} Word na zjednodušenie práce s~citáciami
\item doplnky pre internetové prehliadače pre pohodlnejší import záznamov
\item viac ako 8\,000 citačných štýlov
\item viac bibliografických databáz
\item a mnohé ďalšie (napr. špeciálne výhody pre inštitúcie)
\end{itemize}

\subsection{Citačné štýly}\label{citace:styles}

Citačné štýly sú implementované v~programovacom jazyku \gls{csl}. Podobne ako iné citačné manažéry, aj Citace PRO využíva oficiálny repozitár projektu \emph{The Citation Style Language}~\cite{csl:home}. Niektoré štýly boli pracovnou skupinou Citace.com zrevidované a teraz sú v~tejto službe poskytnuté ako garantované. Okrem \gls{csn} \gls{iso} 690 sú to ešte napríklad štýly APA, CSE, Harvard, Chicago, IEEE, MLA či Turabian~\cite{Krcal2013}. Jazyk \gls{csl} je popísaný ďalej v~časti~\ref{zotero:csl}.

\subsection{Citačný štýl podľa normy \glsentrytext{iso} 690}

Portál Citace.com ponúka v~základnej verzii jediný citačný štýl, a to štýl podľa normy \gls{csn} \gls{iso} 690 z~roku 2011. Konkrétne sa nejedná o~ktorýkoľvek z~citačných štýlov \gls{iso} 690 dostupných v~repozitári \gls{csl}, ale o~jeden zo spomínaných zrevidovaných (\ref{citace:styles}). Preto sa v~tejto časti budeme zaoberať práve týmto konkrétnym štýlom.

Rozdiely tohoto štýlu oproti ostatným, a zároveň aj oproti výkladu normy, nachádzame v~situáciách používania skratky \uv{et al.}. Norma \gls{csn} \gls{iso} 690 stanovuje, že by mali byť uvedené všetky mená tvorcov diela, pokiaľ je to možné. V~prípade, že sú niektoré mená vynechané, uvedie sa meno prvého tvorcu a po ňom nasleduje fráza \uv{et al.}, \uv{aj.}, \uv{a kol.} alebo iný ekvivalantný výraz, samozrejme s~ohľadom na jazykovú lokalizáciu dokumentu~\cite{csn:iso690:2011}.

Citačné štýly z~repozitára \gls{csl} dodržiavajú toto pravidlo a buď uvádzajú všetkých autorov (bez horného ohraničenia ich počtu), alebo uvádzajú len prvého a dopĺňajú skratku \uv{et al.}.

Citačný štýl od Citace.com sa k~tomu stavia iným spôsobom. V~citácii uvádza \emph{až} troch autorov, po ktorých nasleduje skratka \uv{et al.}. V~prípade takéhoto zápisu sa na jednej strane môže uľahčiť identifikácia zdroja, na strane druhej to môže interferovať s~výkladom normy.

Výraznejší problém tejto implementácie je pri citovaní diel viacerých autorov metódou autor-dátum. V~takomto prípade totiž portál vygeneruje ukážku pre odkaz v~texte v~podobe, že je uvedený len prvý autor bez akejkoľvek informácie o~viacerých autoroch. Takýto prehrešok sa u~bežných citačných štýlov z~repozitára \gls{csl} nevyskytuje -- tie znova buď vypisujú všetkých autorov, alebo len prvého s~následnou skratkou \uv{et al.}.
	
% 	Aj napriek niekoľkým nezrovnalostiam či odlišnostiam medzi rôznymi štýlmi tej istej normy je portál citace.com výborným manažérom citácií s~kvalitne spracovaným generátorom citácií. Nehovoriac o~tom, že pokrýva aj prípady citovania diel, ktoré nie sú v~norme samotnej priamo uvedené. To je samozrejme pre užívateľa obrovským benefitom, a z~jeho pohľadu napĺňa aj hlavnú myšlienku portálu \uv{citovat je snadné}.
	
\section{Zotero}\label{zotero}

Spomedzi množstva nástrojov využívajúcich citačné štýly jazyka CSL\footnote{zoznam nástrojov / produktov je možné nájsť na oficiálnej stránke projektu \gls{csl} \url{http://citationstyles.org/}} bol ako reprezentatívny zástupca vybraný program Zotero. Ten je totiž prvým citačným manažérom, ktorý začal používať jazyk \gls{csl} a zároveň z~jeho databázy citačných štýlov vychádza aj aktuálny \gls{csl} repozitár~\cite{Fenner2010}. Spolu s~ďalšími citačnými manažérmi -- Papers a Mendeley -- patrí k~patrónom \gls{csl} projektu~\cite{csl:about}.

Program Zotero je dostupný vo forme doplnku pre internetové prehliadače rovnako však aj ako desktopová aplikácia aktuálne dostupná pre všetky platformy (t.\,j. Mac, Windows a Linux). Medzi jeho hlavné výhody patrí dostupnosť a cena, kompatibilita, pohodlnosť tvorby citácií a v~neposlednom rade aj štatút open-source projektu~\cite{Ansorge2013}. % \cite[58--59]{Ansorge2013}

\subsection{Stručná história projektu}

Počiatky projektu Zotero siahajú do roku 2006, kedy bola vydaná jeho prvá verzia, vtedy ešte len ako doplnok pre internetový prehliadač Firefox. Od roku 2011 však už funguje aj ako samostatná desktopová aplikácia a bola pridaná aj podpora integrácie do iných internetových prehliadačov, akými sú napr. Safari, Opera alebo Chrome. Projekt ďalej pokračuje vo vývoji, ktorý je pod záštitou Centra pre históriu a nové média na Univerzite George Mason v~štáte Virginia v~Spojených štátoch amerických~\cite{Puckett2011}.


% 	Z~pohľadu funkcionality stavia Zotero, podobne ako citace.com, na jednoduchosti a špeciálne aj na minimalizácii zásahu autora do prípravy bibliografie. Zotero totiž ako jediný spomedzi citačných softvérov automaticky hľadá v~aktuálne prehľadávanom obsahu v~prehliadači bibliografické dáta, ktoré potom na jedno kliknutie umožní uložiť do knižnice bibliografických záznamov\footnote{\url{https://www.zotero.org/\#features-1}}. Takisto poskytuje možnosť dohľadania dokumentu podľa jednoznačného identifikátora, umožňuje vytvoriť bibliografický záznam aktuálne prehliadanej web stránky alebo podporuje import bibliografických záznamov z~iných citačných nástrojov či pdf dokumentu. Samozrejmosťou je manuálne vytvorenie a úprava existujúcich záznamov\footnote{\url{https://www.zotero.org/support/getting_stuff_into_your_library}}.

\subsection{Doplnok Zotero v~prehliadačoch}

Na rozpoznávanie informácií na webstránkach používa Zotero takzvané prekladače\footnote{angl. translators}. Prekladače dokážu automaticky detekovať knihovnícke záznamy, správy, časopisecké články a ďalšie záznamy. V~súčasnosti existuje vyše 300 rôznych prekladačov podporujúcich tisíce webov~\cite{ZoteroTranslators}. Tie možno rozdeliť na niekoľko kategórií, konkrétne:

\begin{description}
\item[knihovnícke katalógy] WorldCat, Voyager, InnoPAC, Encore, Dynix, BiblioCommons, Aleph a ďalšie
\item[knihovnícke databázy] arXiv.org, EBSCO, JSTOR, Google Scholar, ProQuest, PubMed a ďalšie
\item[akademické vydavateľstvá svetového významu] Cambridge University Press, Oxford University Press, ScienceDirect -- Elsevier, SpringerLink, Taylor \& Francis a ďalšie
\item[\emph{populárne weby}] Amazon, The New York Times, The Economist, Kommersant, Spiegel Online a ďalšie
\end{description}

Detekovanie bibliografických informácií samozrejme závisí priamo od navštívenej webstránky, kedy sa spolieha buď na samotné prekladače (niekedy špecifické pre danú webovú stránku), alebo na iný spôsob -- použitie vstavaných metadát~\cite{ZoteroDevMetadata}. Tieto metadáta sú preferovane otvoreného formátu, ako napríklad:

\begin{center}
\hspace*{\fill}
\begin{inparaitem}
\item COinS \hfill
\item Embedded RDF \hfill
\item Google/HighWire \hfill
\item unAPI
\end{inparaitem}
\hspace*{\fill}
\end{center}

Okrem prekladačov a metadát na získanie bibliografických záznamov z~aktuálne prehliadanej webstránky ponúka doplnok Zotero aj možnosť zachytenia snímky webovej stránky v~aktuálnej podobe v~dobe jej prehliadania.


% 	Dohľadávanie záznamov podľa jednoznačných identifikátorov poskytuje ďalší spôsob jednoduchého vytvárania bibliografických záznamov. Zotero oproti portálu citace.com ponúka naviac, okrem jednoznačných identifikátorov ISBN a DOI, podporu aj pre identifikátor PubMed ID. Na získavanie metadát využíva bibliografické knihovny Library of Congress a WorldCat pre medzinárodné štandardné čísla kníh ISBN, CrossRef pre identifikátory digitálneho objektu DOI a Národné centrum pre biotechnologické informácie NCBI PubMed pre PubMed identifikátory.

\subsection{Citačné štýly}

Ako bolo spomenuté v~úvode tejto sekcie (\ref{zotero}), program Zotero využíva jazyk \gls{csl} na definovanie citačných štýlov. Tie sú dostupné v~repozitári projektu Zotero (\url{https://www.zotero.org/styles}) alebo v~oficiálnom GitHub repozitári \gls{csl} štýlov (\url{https://github.com/citation-style-language/styles}). Na obidvoch miestach by sa mali nachádzať rovnaké verzie \gls{csl} štýlov~\cite{csl:styles}. V~dobe písania tejto práce sa v~Zotero repozitári nachádza dovedna 8\,145 štýlov, z~toho unikátnych je presne 1\,301. Rozdiel v~počte všetkých a unikátnych štýlov je spôsobený množstvom rôznych variánt (jazykové mutácie, rôzne metódy citovania atp.) \uv{toho istého štýlu}.

\subsection{Citačné štýly \glsentrytext{iso} 690}

Medzi obrovským množstvom citačných štýlov sú samozrejme dostupné aj tie podľa normy \gls{iso} 690, v~celkovom počte 15 štýlov\footnote{česká varianta implementuje pre číselné odkazy dve varianty -- s~hranatými a okrúhlymi zátvorkami -- v~tabuľke ~\ref{tab:csl:styles:iso690} to nie je nijak znázornené}. Dostupnosť jazykovej lokalizácie a podpora citačných metód jednotlivých štýlov je zobrazená v~tabuľke~\ref{tab:csl:styles:iso690}.

\begin{table}[!htbp]
\begin{tabularx}{\textwidth}{Xccc}
  %\toprule
  \textbf{Lokalizácia} & \textbf{Autor-dátum} & \textbf{Číselné odkazy} & \textbf{Poznámky}\\
  \midrule
  \textsc{cs}             & \checkmark & \checkmark & \checkmark\\
  \textsc{en}             & \checkmark & \checkmark & \\
  \textsc{es}             & \checkmark &            & \\
  \textsc{fr}             & \checkmark & \checkmark & \\
  \textsc{fr \uv{no abstract}} & \checkmark &            & \checkmark\\
  \textsc{lt}             &            & \checkmark & \\
  \textsc{sk}             & \checkmark & \checkmark & \checkmark\\
  \bottomrule
\end{tabularx}
\caption{Dostupné \glsentrytext{csl} citačné štýly \glsentrytext{iso} 690 zotriedené podľa lokalizácie a metód citovania; lokalizačné kódy podľa \glsentrytext{iso} 639-1}
\label{tab:csl:styles:iso690}
\end{table}
%\footnote{lokalizačné kódy zodpovedajú norme \gls{iso} 639-1}

\subsection{Dodržiavanie normy \glsentrytext{iso} 690}

Existencia štýlov podľa normy \gls{iso} 690 ešte nezaručuje korektnosť ich implementácie. Existujú totiž isté obmedzenia jazyka \gls{csl} (o~ktorých je pojednávané neskôr v~časti~\ref{zotero:csl}), rovnako sa však môžu vyskytnúť aj nedostatky v~samotnej implementácii. Jedným z~takýchto nedostatkov je (ne)konzistentnosť uvádzania autora anonymného diela pri citovaní metódou autor-dátum.

Norma uvádza, že v~prípade anonymných diel odkazovaných v~texte formou autor-dátum sa použije namiesto mena autora skratka \uv{Anon}~\cite{csn:iso690:2011}. Niektoré štýly sa túto skutočnosť pokúšajú implementovať formou uvádzania reťazca \uv{Anon} pri nezadanom autorovi, iné meno autora vypúšťajú bez akejkoľvek náhrady a namiesto neho uvádzajú názov citovaného diela. Problémom pri týchto odkazoch v~texte je nekonzistentnosť uvádzania mien, ktoré sú v~bibliografickej databáze zadané, voči reťazcu \uv{Anon}, ktorý je v~mnohých prípadoch vysádzaný verzálkami. Problematiku ilustruje tabuľka~\ref{tab:anon:cite}.

\shorthandoff{-}
\begin{table}[!htbp]
\begin{tabularx}{\textwidth}{X|lll}
  %\toprule
   & \multicolumn{3}{c}{\textbf{Pole \texttt{author}}}\\ \cline{2-4}
  \multirow{-2}{*}{\textbf{Lokalizácia}} & \multicolumn{1}{c}{\texttt{Ján Novák}} & \multicolumn{1}{c}{\texttt{Anon.}} & \multicolumn{1}{c}{\texttt{<nezadané>}}\\
  \midrule
  \textsc{cs} & (Novák 2016) & (Anon. 2016) & (ANON. 2016)\\
  \textsc{en} & (Novák 2016) & (Anon. 2016) & (\emph{Dielo} 2016)\\
  \textsc{es} & (Novák 2016) & (Anon. 2016) & ("<Dielo"> 2016)\\
  \textsc{fr} & (Novák 2016) & (Anon. 2016) & (\emph{Dielo} 2016)\\
  \textsc{fr \uv{no abstract}} & (Novák, 2016) & (Anon., 2016) & (ANON., 2016)\\
  \textsc{sk} & (Novák 2016) & (Anon. 2016) & (anon. 2016)\\
  \bottomrule
\end{tabularx}
\caption{Citovanie metódou autor-dátum; ostatné relevantné polia pre túto ukážku sú \texttt{title = \string{Dielo\string}} a \texttt{date = 2016}; lokalizačné kódy podľa \glsentrytext{iso} 639-1}
\label{tab:anon:cite}
\end{table}
\shorthandon{-}

Ťažko povedať o~aký veľký prehrešok sa jedná a či pokus o~implementáciu tohoto problému splňuje svoj cieľ. Napríklad v~prípade citovania encyklopédie, periodika alebo filmu, ktoré sú prácou množstva jedincov, z~ktorých však žiaden nemá postavenie dominantného autora, sa uplatňuje pravidlo hlavného názvu, t.\,j. názov by mal byť použitý namiesto mien tvorcov~\cite{csn:iso690:2011}. Žiaden z~\gls{csl} citačných štýlov \gls{iso} 690 však medzi typmi záznamov nerozlišuje.

% \shorthandoff{-}
% \begin{table}[!htbp]
% \begin{tabularx}{\textwidth}{lX}
%   %\toprule
%   \textbf{Pole \texttt{author}} & \textbf{Citácia}\\
%   \midrule
%   \texttt{Ján Novák} & NOVÁK, Ján, 2016. \emph{Dielo}.\\
%   \texttt{Anon.} & Anon., 2016. \emph{Dielo}.\\
%   \texttt{<nezadané>} & ANON., 2016. \emph{Dielo}.\\
%   \bottomrule
% \end{tabularx}
% \caption{Citácia vytvorená metódou autor-dátum; ostatné relevantné polia pre túto ukážku sú \texttt{title = \string{Dielo\string}} a \texttt{date = 2016}.}
% \label{tab:anon:citation}
% \end{table}
% \shorthandon{-}

\subsection{Jazyk CSL}\label{zotero:csl}

Jazyk \gls{csl} je programovací jazyk založený na jazyku \gls{xml}. Populárnym sa stal s~vydaním Zotera v~roku 2006~\cite{Fenner2010}.

Medzi jednoznačné výhody patrí syntax jazyka \gls{xml}. Na to nadväzuje obľúbenosť tohoto formátu a otvorenosť a univerzálnosť jazyka \gls{csl}~\cite{Ansorge2013}. Nespornou výhodou je aj jeho využiteľnosť naprieč viacerými aplikáciami, čo dokazuje aj rozsiahly zoznam produktov na oficiálnych stránkach projektu \gls{csl}, ktoré tento jazyk využívajú~\cite{csl:home}.

Na druhej strane existujú v~prípade jazyka CSL tieto nevýhody~\cite{csl:styles}:

%%%% CAUTION %%%%
%% One cannot use non-Latin character right after `\item` term when using `enumerate` environment!!
%% With `itemize` environment it's working without any significant problems.
%% Well, ok, I am taking it back! It also occurs within `itemize` environment!
%% Somehow it was working when the commented out text had not been commented out..
%% I am leaving it as it is for now..
%% Well again, maybe this is not the case!!!!
%% The problem persisted and occurs every time when the working directory is clean in the sence there are no auxiliary files!!!!
%%%%%%%%%%%%%%%%%

\begin{itemize}
\item nie je možné nastaviť formát hodnoty identifikátora
\item žiadna podpora pre viacero citácií v~jednom bibliografickom zázname
\item obmedzená podpora pre legislatívne štýly (Multilingual Zotero môže byť riešením)
\item obmedzená podpora pre viacjazyčnosť citácií (Multilingual Zotero môže byť riešením)
\item nie je možné zadať rozsah dátumu do poľa pre dátum (údaj sa nevygeneruje)
\end{itemize}

% nemožnosť nastavenia lejblíka
% žiadna podpora pre viacero citácií v~jednom bibliografickom zázname
% obmedzená podpora pre legislatívne dokumenty ???existencia multilingual zotero
% obmedzená podpora pre viacjazyčnosť citácií ???existencia multilingual zotero
% nemožnosť zadať rozsah dátumu do poľa pre dátum (údaj sa nevygeneruje)

Je nutné uznať, že balík BibLaTeX všetky tieto problémy pokrýva vo svojej základnej funkcionalite~\cite{biblatex:manual2016}.

Doménou použitia jazyka \gls{csl} sú všetky programy schopné pracovať s~bázovým formátom \gls{xml}. Detailnejší popis jazyka \gls{csl} je ponechaný napríklad na materiál~\cite{Ansorge2013}.

\section{JabRef}

JabRef je citačný manažér z~roku 2003, typicky používaný so systémom \LaTeX. Ide totiž o~grafickú aplikáciu plne implementovanú v~jazyku Java, ktorá sa zameriava na \BibTeX\ a BibLaTeX a prácu s~\texttt{.bib} formátom súborov pre ukladanie bibliografických databáz. JabRef je multiplatformovým a open source projektom, čo ho radí medzi najobľúbenejšie citačné manažéry súčasnosti~\cite{AlternativeToJabRef}.

\subsection{Citačné štýly}

Obdobou citačných štýlov \gls{csl} sú v~prípade programu JabRef \textit{filtre na exportovanie}\footnote{angl. export filters}. V~rovnakom význame ide o~šablónu/formát, podľa ktorého prebieha exportovanie záznamu podľa vybraného citačného štýlu. Konkrétne sú na definovanie \textit{filtrov na exportovanie} použité tzv. \texttt{.layout} súbory. Tie obsahujú kolekciu vstavaných formátovacích rutín, ktoré špecifikujú daný citačný štýl a práve podľa nich prebieha samotný export.

\subsection{Súbor \texttt{.layout}}

Základnou a jedinou požiadavkou na vytvorenie nového validného \textit{filtra} je existencia súboru s~príponou \texttt{.layout}. Tieto súbory je možné vytvoriť v~obyčajnom textovom editore a následne ich pomocou základnej funkcionality programu JabRef importovať a používať. Jeden \textit{filter na exportovanie} môže pozostávať z~jedného alebo viacerých \texttt{.layout} súborov. V~základe je k~dispozícii jeden predvolený filter na exportovanie všeobecného typu záznamu. Typicky je však nutné použiť viaceré \texttt{.layout} súbory, pričom každý samostatne pokrýva konkrétny typ záznamu. V~mennej konvencii programu JabRef sú súbory pomenované

\begin{center}
\texttt{<entrytype>.layout},
\end{center}

\noindent kde \texttt{<entrytype>} je označenie pre meno konkrétneho typu záznamu.

Okrem toho je v~niektorých prípadoch žiadúce mať k~dispozícii aj pomocné \texttt{.layout} súbory, a to konkrétne dvojicu súborov

\begin{center}
\texttt{begin.layout} \quad a \quad \texttt{end.layout}.
\end{center}

\noindent To je vhodné v~prípade použitia exportovania do formátu \gls{html} alebo \gls{xml} a jeho odvodenín. V~týchto prípadoch je v~súbore \texttt{begin.layout} uložená hlavička a v~\texttt{end.layout} pätička súboru, ktoré sú potom následne automaticky pripojené k~exportovanej položke.

\subsection{Formát \texttt{.layout} súboru}

Ako už bolo spomenuté, \texttt{.layout} súbory môžu byť vytvorené jednoducho v~textovom editore a to pomocou niekoľkých základných značkovacích príkazov. Syntax značkovania je veľmi podobná \TeX -ovému značkovaniu, nakoľko jednotlivé príkazy sú uvedené práve spätným lomítkom (ako tomu je aj u~príkazov v~\TeX u).

\subsection{Príkazy na spracovanie údajov}\label{jabref:field:commands}

Keďže je program JabRef zameraný na \texttt{.bib} formát súborov, sú potrebné príkazy na spracovávanie jednotlivých polí obsiahnutých v~týchto databázových súboroch. V~\texttt{.layout} syntaxi sú to príkazy:

\begin{center}
\cmd{\author},\enspace \cmd{\editor},\enspace \cmd{\title}\enspace a ďalšie.
\end{center}

\noindent Tieto príkazy slúžia na priame odkazovanie sa na príslušné polia v~\texttt{.bib} súbore, pričom tie sú priamo spracované na výstup.

\subsection{Formátovanie údajov}

Okrem samotných príkazov na prístup k~poliam v~\texttt{.bib} súbore je typicky potrebné tieto údaje nejakým spôsobom naformátovať. Práve na tento účel slúži príkaz

\begin{center}
\cmd{\format}
\end{center}

\noindent a triedy\footnote{Java triedy} na formátovanie jednotlivých polí\footnote{angl. field formatter}. Samotné formátovanie je potom možné zavolať príkazom \cmd{\format} priamo nasledovaným zoznamom tried formátovania v~hranatých zátvorkách, ktoré sa majú použiť. Za týmto formátovacím príkazom je uvedený príkaz na spracovanie údajov (\ref{jabref:field:commands}) odkazujúci na dané pole (alebo môže ísť o~ľubovoľný textový reťazec na spracovanie), umiestnený v~zložených zátvorkách. Príklad takéhoto formátovacieho príkazu môže vyzerať nasledovne:

\begin{center}
\cmd{\format[HTMLChars,ToUpperCase]{\author}},
\end{center}

\noindent kde \cmd{\format} je formátovací príkaz, \texttt{HTMLChars} a \texttt{ToUpperCase} sú formátovacie triedy a \cmd{\author} je výraz, na ktorom sa má dané formátovanie použiť. Možnosti formátovania sú samozrejme ešte o~čosi bohatšie.

\subsection{Formátovacie triedy}

Implementácia programu JabRef v~jazyku Java sa z~pohľadu funkcionality v~mnohom podobá \TeX ovej implementácii BibLaTeXu. Množina funkcií je veľmi podobná, napríklad čo sa týka formátovania výstupu. V~základe JabRef ponúka niekoľko desiatok formátovacích tried. Tie by bolo možné rozdeliť na dve skupiny, a to triedy zamerané na spracovanie vstupu a triedy zamerané priamo na formátovanie vstupného reťazca. Do prvej kategórie spadajú napríklad:

\begin{description}
\item[HTMLChars] nahradzuje špeciálne znaky \TeX u (napr. \cmd{\"{a}}, \cmd{\sigma}) ich príslušnou \gls{html} reprezentáciou a prekladá \LaTeX ové príkazy (napr. \cmd{\emph}, \cmd{\texttt}, \cmd{\underline}) do \gls{html} ekvivalentov
\item[XMLChars] analogicky, nahradzuje špeciálne znaky \TeX u ich príslušnou \gls{xml} reprezentáciou
\item[RemoveLatexCommands] odstraňuje z~reťazca \LaTeX ové príkazy
\end{description}

\noindent Do kategórie formátovania vstupného reťazca možno zaradiť napr.:

\begin{description}
\item[CurrentDate] dáva na výstup aktuálny čas, bez zadania argumentu vo formáte \textsc{yyyy.mm.dd hh:mm:ss z}, uvedením argumentu sa tento formát môže prispôsobiť podľa zadaného textového reťazca
\item[JournalAbbreviator] skracuje vstupný text podľa dostupného zoznamu skratiek časopisov
\item[Ordinal] nahradzuje základnú číslovku radovou číslovkou
\item[ToUpperCase] zmení všetky znaky daného reťazca na verzálky
\end{description}

\subsection{Formátovanie poľa \texttt{author}}

Ďalšou podobnou črtou s~BibLaTeXom je poskytovanie základných funkcií potrebných naprieč množstvom citačných štýlov. Takým je napríklad spracovanie zoznamu autorov, ktoré je viac-menej univerzálne a nie je preto potrebné implementovať túto funkcionalitu pre každý citačný štýl zvlášť. Ide predovšetkým o~možnosti na formátovanie:

\begin{itemize}
\item poradia mena a priezviska autorov
\item skracovanie mien autorov
\item definovanie počtu autorov, ktorí sa majú vypísať na výstup
\item definovanie oddeľovača mien autorov
\item a mnohé ďalšie
\end{itemize}

\noindent Všetky tieto voľby je možné špecifikovať v~jednom formátovacom príkaze. Formátovací príkaz \cmd{Authors()} bez argumentov je ekvivalentný príkazu s~prednastavenými hodnotami

\begin{verbatim}
Authors(FirstFirst,Initials,FullPunc,Comma,
                                     And,inf,EtAl= et al.)
\end{verbatim}

Všetky voľby definované pre tento formátovací príkaz sú bežne použiteľné pre väčšinu používaných citačných štýlov. V~prípade potreby ďalších volieb je možné implementovať príslušné rozhranie a tým si vytvoriť vlastné formátovacie príkazy.

Ako ultimátnou možnosťou formátovania mien autorov je použitie priamo syntaxe BibTeXu. Táto možnosť je v~programe JabRef dostupná od verzie 2.2. Vďaka vlastnostiam \BibTeX u~je možné dosiahnuť najvyššiu flexibilitu formátovania, avšak na druhej strane je implementácia v~tejto syntaxi veľmi ťažkopádna~\cite{JabRefCustomExportFilters}.

\subsection{Citačný štýl podľa normy \glsentrytext{iso} 690}

V~základnej implementácii ponúka JabRef podporu aj pre citovanie podľa normy \gls{iso} 690. Definuje zhruba dve desiatky typov dokumentov (\texttt{.layout} súborov), ktoré je možné použiť na citovanie. Ďalšie sa dajú samozrejme dodefinovať alebo upraviť existujúce podľa potreby. Množina preddefinovaných typov obsahuje základné typy, ako napr.:

\begin{center}
kniha,\enspace článok,\enspace periodikum,\enspace patent\enspace a ďalšie.
\end{center}

\noindent Obsiahnuté sú aj špecifickejšie typy dokumentov, zahrňujúce napr.:

\begin{center}
nahrávky,\enspace grafické diela\enspace či\enspace emailové správy.
\end{center}

\subsection{Nedodržanie normy \glsentrytext{iso} 690}

% Menná konvencia \texttt{.layout} súborov naznačuje, že niekoľko typov tvorí nadstavbu nad tými štandardnými v~podobe ich elektronických ekvivalentov. Nahliadnutím do definícií daných \texttt{.layout} súborov sa však o~ekvivalentné typy veľmi nejedná. Ekvivalencia by sa totiž v~takýchto prípadoch dala očakávať na úrovni rozšírenia výpisu o~dostupnosti, dátume citovania či type média u~elektronických variánt. Porovnaním daných súborov sa však rozdiely nachádzajú aj v~poradí výpisu prvkov či formáte jednotlivých elementov, čo samozrejme naráža na rozpory s~výkladom normy.

% Okrem nezrovnalostí pomenovania sa vynárajú ďalšie problémy aj pri náhľade do zdrojového kódu \texttt{.layout} súborov. Základnou problémovou doménou sa zdajú byť napevno nastavované interpunkčné symboly oddeľujúce jednotlivé elementy bibliografického záznamu. V~prípade absencie niektorého z~elementov to spôsobuje nekonzistentný výpis interpunkcie v~rámci celého zoznamu bibliografických záznamov.

% JabRef stavia na povinných a voliteľných poliach jednotlivých typov diel. V~prípade nevyplnenia tých povinných však nezapríčiní zlyhanie výpisu požadovaného bibliografického záznamu. To je samozrejme v~súlade s~interpretáciou normy~\cite{Biernatova2011} kedy sa má v~prípade nedostupnosti daného údaja tento údaj vynechať a pokračovať ďalším. Spôsobuje to však vyššie popísanú nekonzistentnosť v~interpunkcii.


Ďalšou výraznou chybou v~implementácii je spracovávanie polí na vstupe a výskyt ich hodnôt vo výstupnej bibliografickej citácii. V~samotnom programe JabRef, ako aj pri importe z~\texttt{.bib} súboru, funguje mapovanie polí daného typu dokumentu do internej reprezentácie programu na kvalitatívne vysokej úrovni. Problémom zostávajú práve spomínané filtre na exportovanie, ktoré definujú podobu samotného výstupu. V~prípade exportovania podľa štandardu \gls{iso} 690, dané \texttt{.layout} súbory zaostávajú v~dodržiavaní normy. Niekoľko chýb, na ktoré je v~závere vhodné poukázať:

\begin{itemize}
\item totálna absencia údaju \gls{doi} pri článkoch alebo akomkoľvek inom type dokumentu
\item nedostatočná podpora štandardných identifikátorov obmedzená na množinu \gls{isbn} a \gls{issn}
\item chybné poradie niektorých elementov (prevažne štandardných identifikátorov, ktoré sa u~všetkých typov dokumentov nachádzajú až za poznámkovou časťou)
\item napevno definované reťazce, ktoré by mali (mohli) byť reťazcami lokalizačnými
\end{itemize}

\section{Citavi}

Citavi je citačný manažér populárny najmä v~nemecky hovoriacich krajinách~\cite{Stohr2010}. Prvá verzia vyšla v~roku 1995, vtedy ešte pod názvom LiteRat a vývojovou taktovkou Univerzity Heinrich Heine v~Düsseldorfe. Od roku 2003 už nesie názov Citavi a hlavnou vývojárskou skupinou sa stala spoločnosť Swiss Academic Software GmbH. Oproti ostatným doposiaľ spomenutým citačným manažérom je Citavi proprietárnym softvérom v~podobe desktopovej aplikácie pre platformu Microsoft Windows.

\subsection{Citačné štýly}

%Samotný program je napísaný v~jazyku C\#,
Citačné štýly sú uložené v~súboroch \emph{Citavi Citation Style} s~príponou \texttt{.ccs}, ktoré sú, podobne ako \texttt{.csl}, založené na značkovacom jazyku \gls{xml}. Citavi umožňuje tvorbu a úpravu citačných štýlov vo vizuálne prívetivom užívateľskom prostredí \emph{Citavi Citation Style Editor}. Tu sa dajú jednotlivé typy záznamov doslova vyskladať z~dostupných komponent, ktoré je tiež možné upravovať podľa potreby. Samozrejmosťou je v~tomto prípade takisto dedičnosť medzi typmi záznamov, vďaka čomu sa tvorba zjednoduší a zamedzí sa duplicite kódu.

\subsection{Citačné štýly \glsentrytext{iso} 690}

V~základnej inštalácii programu síce citačný štýl vychádzajúci z~normy \gls{iso} 690 nefiguruje, dá sa však dohľadať v~online katalógu a importovať priamo v~nastaveniach programu. Tento katalóg aktuálne obsahuje celkovo štyri verzie štýlov pre \gls{iso} 690:

\begin{itemize}
\item \gls{iso} 690:2010 autor-rok
\item \gls{iso} 690:2010 číselné odkazy
\item \gls{din} \gls{iso} 690:2013 autor-rok
\item \gls{din} \gls{iso} 690:2013 číselné odkazy
\end{itemize}

Porovnaním príslušných dvojíc de facto tej istej normy je možné naraziť na niekoľko odlišností:

\begin{itemize}
\item pochopiteľne sú to rozdiely v~lokalizačných reťazcoch, ktoré však vlastne v~daných štýloch nie sú implementované ako lokalizačné reťazce, ale len napevno dané presné hodnoty
\item podobne sú to jazykovo alebo národne špecifické skratky a reťazce používané v~bibliografických záznamoch (napr. anglické označenie strán \uv{p.} oproti nemeckému označeniu \uv{S.} alebo tzv. harvardská čiarka)
\end{itemize}

\subsection{Zaujímavé makrá}

V~nemeckej implementácii (\gls{din} \gls{iso} 690:2013) je zaujímavé makro, ktoré ošetruje prípad prvého vydania dokumentu. Podľa výkladu normy by sa totiž vydanie malo uvádzať len v~prípade, ak ide o~iné než prvé vydanie~\cite{csn:iso690:2011}. A~práve toto nemecká verzia rieši algoritmicky v~prípadoch číselnej vstupnej hodnoty. Pochopiteľne, nie je to možné zaistiť v~prípadoch textového vstupu.

Ďalšou zaujímavosťou je požiadavka normy uvádzať len jedno miesto vydania za predpokladu, že viac miest vydania sa v~zdroji údajov nachádza na rovnako významnej pozícii~\cite{csn:iso690:2011}. Túto skutočnosť rieši znova len nemecká verzia, pričom je zaujímavé, že už ďalej nerieši obdobná požiadavka na viacero vydavateľov.

\subsection{Drobné nezrovnalosti}

Z~celkového pohľadu na implementáciu v~\texttt{.ccs} a dodržiavanie normy \gls{iso} 690 nachádzame ešte niekoľko zaujímavých faktov. Týkajú sa napríklad názvov dokumentov a typu nosiča.

Typickým členením názvov dokumentov je \emph{názov}, \emph{podnázov} a \emph{dodatok}. Implementácia používa trochu netradičnú interpunkciu na oddeľovanie názvu od podnázvu, a to bodku namiesto dvojbodky, ktorá je zaužívaná v~českom prostredí~\cite{Biernatova2011, Bratkova2011}. To by však nemalo byť v~rozpore s~normou, nakoľko tá nepredpisuje konkrétny štýl odkazu ani citácie čo sa použitia interpunkcie týka.

Nekonzistentnosť naprieč rôznymi typmi záznamov sa javí byť u~spomenutého dodatku k~názvu. Ten sa dá totiž s~výhodou použiť na uvedenie informácií o~ďalšom názve, opravu nesprávnych alebo doplnenie nejasných názvov, ich preklad apod. Všetky spomenuté prvky však norma naviac odporúča písať uzavreté v~hranatých zátvorkách za názvami. V~tejto implementácii sa však dodatok pri niektorých typoch (hudobné, filmové alebo rozhlasové dielo) v~hranatých zátvorkách na výstupe píše, pri ostatných prirodzene nasleduje za názvami, oddelený bodkou a v~základnom reze písma. Týmito dvoma variantami sa narušuje jednotnosť zoznamu bibliografických citácií, nehovoriac o~tom, že neexistuje žiaden spôsob, ako by sa spomenuté doplnky názvov dokázali korektne zakomponovať do citácie bez úprav existujúceho štýlu.

Typ nosiča je podľa normy doporučené uvádzať v~bibliografickej citácii za názvom citovaného dokumentu. V~informatívnej prílohe B je však pri jednotlivých typoch citovaných dokumentov ešte jemnejšie členenie. To uvádza umiestnenie typu nosiča za hlavný názov citovaného dokumentu, pričom vedľajšie názvy, medzi ktoré patrí napríklad aj podnázov, sa píšu až za týmto typom nosiča~\cite{csn:iso690:2011}. Citavi implementácia to rieši presne takýmto spôsobom. V~českom prostredí je to však mierne nezvyklé, nakoľko názov a podnázov sú vždy uvádzané bezprostredne za sebou. V~konečnom dôsledku sa však zo strany Citavi nejedná o~nedodržanie normy \gls{iso} 690.

% 	Oveľa markantnejším rozdielom, aj čo sa týka dodržiavania normy \gls{iso} 690, je uvádzanie termínu “ISBN” pred samotným číslom ISBN. V~prípade anglického originálu totiž tento reťazec chýba, čo môže zapríčiniť nejednoznačnosť bibliografického záznamu, nakoľko vo všeobecnosti nemusí byť zrejmé, ku čomu sa tento údaj viaže (hoci práve v~prípade ISBN, ktorý má presne definovaný formát, takáto nejednoznačnosť zrejme nehrozí). Pre úplnosť by však bolo žiadúce, aby sa pred číslom ISBN nachádzal aj termín označujúci že ide o~identifikátor ISBN.

\section{OPmac-bib}

OPmac je sada makier umožňujúca pohodlnejšiu prácu s~plain\TeX om, ktoré poskytujú základnú \LaTeX ovú funkcionalitu. Balíček OPmac-bib je nadstavbou týchto makier, zaoberajúci sa práve sadzbou bibliografie. Oproti ostatným nástrojom však nepoužíva žiaden externý program, ale celú funkcionalitu rieši na úrovni \TeX ových makier. Autorom balíka je Petr Olšák a k~dispozícii je od roku 2015 v~rámci balíka \textit{csplain}.

\subsection{Nové polia v~\texttt{.bib} súboroch}

OPmac-bib pracuje priamo s~\texttt{.bib} súbormi a je akousi nadstavbou a rozšírením nad starodávnym \BibTeX om. Využíva teda všetky typy a polia, ktoré sú dostupné v~\BibTeX u~a naviac prináša nové polia, ktoré sú v~dnešnej dobe nutnosťou (vo všeobecnosti ako aj pre štýl \gls{iso} 690). Ide napríklad o~polia

\begin{center}
\texttt{url},\enspace \texttt{doi}\enspace alebo\enspace \texttt{lang},
\end{center}

\noindent vďaka ktorým už nemusí autor \texttt{.bib} súboru vkladať tieto informácie do poľa \texttt{note}, ale do príslušných, na tento účel vytvorených, polí. Tým sa zvyšuje flexibilita a v~konečnom dôsledku aj možnosť korektného výpisu poradia údajov podľa aktuálnej verzie normy.

Tým, že balíček OPmac-bib úplne obchádza použitie externého programu a číta \texttt{.bib} databázu priamo pomocou makier \TeX u, zvyšuje čitateľnosť kódu a zároveň umožňuje jednoduchšie predefinovanie makier v~prípade nutnosti ich prispôsobenia špecifickým potrebám. Norma \gls{iso} 690 totiž vynucuje uvádzanie niektorých údajov, pre ktoré v~pôvodnom \BibTeX u~príslušné polia neexistujú. Vytváranie nových polí pre každý takýto špecifický údaj však nie je riešenie. OPmac to z~tohoto hľadiska rieši vskutku elegantne. Poskytuje univerzálne polia, do ktorých možno uvádzať nielen bibliografické údaje, ale zároveň aj makrá používané na výpis prvkov a tým docieliť požadovanú podobu výstupu. Ide napríklad o~polia

\begin{center}
\texttt{option}\enspace a\enspace \texttt{ednote}.
\end{center}

\noindent Takýto prístup pochopiteľne prináša problémy s~interoperabilitou medzi rôznymi programami, ktoré spracovávajú \texttt{.bib} súbory ako vstupnú databázu bibliografických záznamov. Väčšina programov však takúto situáciu rieši prostým ignorovaním neznámych polí, OPmac-bib nie je výnimkou, čo je koniec-koncov pochopiteľné.

Pole \texttt{option} dokáže spracovať nasledovné voľby:

\begin{description}
  \item[aumax:<number>] maximálny počet autorov na výstup
  \item[aumin:<number>] počet autorov na výstup v~prípade prekročenia hodnoty maximálneho počtu autorov na výstup
  \item[autrim:<number>] skrátenie krstných mien na iniciály ak je počet autorov väčší alebo rovný zadanej hodnote
  \item[auprint:\{<value>\}] text na výstup namiesto zoznamu autorov (môže byť použité makro \verb|\AU| na výpis zoznamu autorov)
  \item[edmax, edmin, edtrim] analogicky pre zoznam editorov
  \item[edprint:\{<value>\}] text na výstup namiesto zoznamu editorov (môže byť použité makro \verb|\ED| na výpis zoznamu editorov)
  \item[titlepost:\{<value>\}] text na výstup za názvom
  \item[yearprint:\{<value>\}] text na výstup namiesto numerickej hodnoty roku (môže byť použité makro \verb|\YEAR| na výpis roku)
  \item[ednprint:\{<value>\}] text na výstup namiesto numerickej hodnoty vydania (môže byť použité makro \verb|\EDN| na výpis vydania)
  \item[urlalso] použitie frázy \textit{dostupné tiež z} namiesto \textit{dostupné z}, resp. iného jazykového ekvivalentu
  \item[unpublished] označenie nakladateľských údajov ako nepovinných
  \item[nowarn] označenie všetkých údajov ako nepovinných
\end{description}

Vďaka týmto voľbám je možné dosiahnuť adekvátny výpis údajov splňujúci aktuálnu verziu normy \gls{iso} 690. Napríklad v~prípade potreby uvedenia dodatočného názvu diela, jeho prekladu apod. je toto možné s~ľahkosťou dosiahnuť pomocou zápisu

\begin{minted}{latex}
title  = "Hlavný názov: podnázov",
option = "titlepost:{Dodatočný názov}",
\end{minted}

\noindent pričom na výstup dostaneme \uv{\textit{Hlavný názov: podnázov}. Dodatočný názov.}. Treba si tu však uvedomiť dve základné veci:

\begin{enumerate}
\item uvedením dodatočného názvu do poľa \texttt{title} nie je možné dosiahnuť požadované, nakoľko tento dodatočný názov musí byť vypísaný iným rezom písma
\item takýto výpis sa približuje odporúčaniu výkladu normy, avšak tá naviac odporúča dodatočné, doplňujúce a iné informácie uvádzať v~hranatých zátvorkách -- to bez ďalšieho zásahu do použitých makier nie je možné, konkrétne z~dôvodu nadbytočného vypisovania interpunkcie hneď za názvom a podnázvom
\end{enumerate}

Pole \texttt{ednote} slúži na uvedenie vedľajších tvorcov alebo na rôzne doplňujúce informácie. Bežne sa tu môžu vyskytnúť údaje, ktoré nemožno jednoducho algoritmizovať, preto je potrebné do tohoto poľa zadať údaje v~takej podobe, v~akej sa majú objaviť na výstupe. Typickým príkladom môžu byť informácie o~prekladateľovi alebo pôvodcoch ďalších vydaní.

\subsection{Návrh na zlepšenie}

Problém interoperability kvôli novovytvoreným poliam by sa dal čiastočne riešiť uniformným pomenovaním týchto polí. Nie je totiž neobvyklé, že pre rôzne programy sú dané polia pomenované inak, hoci poskytujú tie isté údaje. Konkrétnym príkladom je informácia o~dátume citovania online zdroja.

Napríklad Bib\LaTeX\ alebo JabRef používajú na tento účel pole \texttt{urldate}, pričom OPmac-bib má zadefinované pole s~názvom \texttt{citedate}, plniace presne tú istú funkcionalitu. Takisto formát zadávania tohoto údaja nie je jednotný. Do poľa \texttt{urldate} je nutné zadať dátum vo formáte \gls{iso} 8601 (t.j. \textsc{yyyy-mm-dd}), \texttt{citedate} vyžaduje trochu netradičný formát \textsc{yyyy/mm/dd}. Štandardizácia a zjednotenie pomenovania by mohol byť pre balík OPmac-bib jednoznačne krok správnym smerom.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Zhrnutie}

Hlavným motívom tohoto prehľadu bolo porovnať implementácie normy \gls{iso} 690 v~rôznych programovacích jazykoch a produktoch. Zároveň však mal ponúknuť aj pohľad na existujúce programy, nástroje a služby, ktoré by bolo možné komplementárne využiť pri sadzbe bibliografie v~systéme \LaTeX. Medzi jednu z~najvyužiteľnejších možností pre \LaTeX\ rozhodne patrí export bibliografických databáz z~týchto produktov do súborov formátu \texttt{.bib}.

Tabuľka~\ref{tab:bib:export} zobrazuje možnosti exportu z~jednotlivých produktov do \texttt{.bib} súboru pre formát \BibTeX\ a BibLaTeX. Nakoľko balík BibLaTeX poskytuje väčšie množstvo typov dokumentov a rovnako aj polí pre bibliografické údaje, pri exporte do formátu \BibTeX\ \texttt{.bib} sú tieto údaje jednoducho ignorované.

\begin{table}[!htbp]
\begin{tabularx}{\textwidth}{Xcc}
  %\toprule
  \textbf{Produkt} & \textbf{\BibTeX\ \texttt{.bib} súbor} & \textbf{BibLaTeX \texttt{.bib} súbor}\\
  \midrule
  Citace.com  & \checkmark & \\
  Citace PRO  & \checkmark & \\
  Zotero      & \checkmark & \checkmark \\
  JabRef      & \checkmark & \checkmark \\
  Citavi      & \checkmark & \checkmark \\
  \bottomrule
\end{tabularx}
\caption{Podpora exportu bibliografickej databázy do formátov \BibTeX\ a BibLaTeX u~vybraných produktov}
\label{tab:bib:export}
\end{table}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% SADZBA V LATEXU

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Sadzba bibliografie v~systéme \LaTeX}\label{ch:latex:bibliography}

V~systéme \LaTeX\ sú k~dispozícii prakticky tri základné prístupy na sadzbu bibliografie~\cite{talbot2013}. Prvým z~nich je použitie čistého \LaTeX u, zvyšné dva uznávajú princíp oddelenia formy od obsahu a na sadzbu bibliografie používajú externú bibliografickú databázu a takisto aj externý program na preklad.

\section{Čistý \LaTeX}\label{bib:pure:latex}

\subsection{Použitie}

Systém \LaTeX\ poskytuje na sadzbu bibliografie vstavané prostredie \texttt{thebibliography} a rodinu makier \cmd{\cite} umožňujúcich sadzbu bibliografických odkazov. Tie následne odkazujú na samotné bibliografické citácie. Zoznam bibliografických citácií je uvedený v~prostredí \texttt{thebibliography}, jednotlivé položky sú uvedené príkazom \cmd{\bibitem}.

\begin{minted}{latex}
\documentclass{...}
\begin{document}
\cite{<identifikátor01>}
...
\begin{thebibliography}{<maximálna šírka identifikátora>}
\bibitem{<identifikátor01>}
  <Autor>. \emph{<Názov>: <podnázov>}. ...
...
\end{thebibliography}
\end{document}
\end{minted}

\subsection{Nevýhody}

Predchádzajúca ukážka kódu okrem základnej syntaxe poukazuje aj na fakt, že takýto prístup nie je vhodný na sadzbu bibliografie rozsiahlejších diel~\cite{talbot2012}. Prináša tieto hlavné nevýhody:

\begin{enumerate}
\item vysádzané sú všetky citácie uvedené v~zozname prostredia \texttt{thebibliography} (bez ohľadu na to, či boli vôbec citované)\label{item:1}
\item každý záznam je nutné naformátovať jednotlivo (v~závislosti od požadovaného bibliografického štýlu)\label{item:2}
\item bibliografické citácie sú radené presne v~takom poradí ako sú uvedené v~zozname prostredia \texttt{thebibliography}\label{item:3}
\end{enumerate}

\noindent Okolnosti ohľadom nevýhody číslo~\ref{item:1} norma \gls{iso} 690 priamo nešpecifikuje, takýto prístup však nenasleduje všeobecné odporúčania tvorby bibliografie~\cite{talbot2013}. Ďalej je v~prípade prostredia \texttt{thebibliography} ťažké zaručiť zásadu jednotnosti citácií (podľa~\ref{item:2}) a vôbec nie je možné zaistiť správne poradie citácií (podľa~\ref{item:3}) pre ktorúkoľvek prípustnú metódu citovania špecifikovanú v~norme \gls{iso} 690.

\subsection{Kompilácia}

Znovupoužiteľnosť bibliografických záznamov a škálovateľnosť zoznamu citácií nie je silnou stránkou tohoto riešenia. Výhodou je však rýchlosť a nízky počet prekladov dokumentu (postačí dvojnásobný preklad \TeX ovým kompilátorom).


%%%%%%%%%%%%% BIBTEX %%%%%%%%%%%%%%%%%%%%%%%


\section{B\textsc{ib}\TeX}  %% B\textsc{ib}\TeX\ needs to be used instead of \BibTeX due to the encoding in TOC

Preferovaným spôsobom práce s~bibliografiou pri sadzbe rozsiahlejších typov dokumentov je vytvorenie externej databázy bibliografických záznamov (\ref{bib:file}) a použitie externého programu na jej preklad~\cite{talbot2013}. Tento externý program zaistí správne zoradenie citácií (rieši problém~\ref{item:3}) a podľa použitého bibliografického štýlu\footnote{\label{footnote:ambiguous:style:names} často nazývaný aj citačný štýl, v~tomto kontexte by bolo možné hovoriť všeobecne o~formátovacom štýle} (rieši problém~\ref{item:2}) vytvorí formátované \LaTeX ové prostredie \texttt{thebibliography} s~bibliografiou na vysadenie. Typickým zástupcom tohoto prístupu je \BibTeX, ktorého nespornou výhodou je práve spomínané oddelenie formy od obsahu.

\subsection{Použitie}

Príkaz \cmd{\bibliographystyle} slúži na definovanie formátovacieho štýlu, \cmd{\bibliography} určuje, ktoré bibliografické databázy sa majú použiť a takisto miesto vysadenia v~zdrojovom dokumente. Príkazom \cmd{\cite} sa vytvorí odkaz v~texte dokumentu na danú citáciu. Je možné použiť aj príkaz \cmd{\nocite}, ktorý nevytvorí odkaz v~texte samotného dokumentu, zaručí však výskyt citácie v~zozname bibliografických citácií (rieši problém~\ref{item:1}).

\begin{minted}{latex}
\documentclass{...}
\bibliographystyle{<formátovací štýl>}
\begin{document}
\cite[<text>]{<zoznam identifikátorov>}
...
\bibliography{<databáza01>,<databáza02>,...}
\end{document}
\end{minted}

\subsection{Nevýhody}

Spomenuté výhody však vyvažuje, resp. prevyšuje, množstvo nevýhod spojených so skutočnosťou, že vývoj \BibTeX u~má relatívne stagnujúcu tendenciu~\cite{patashnik1994,patashnik2003}. Medzi hlavné nevýhody patrí:

\begin{enumerate}
\item problémy so vstupným kódovaním~\cite{ctan:bibtex} (hoci je dostupné alternatívne riešenie)\footnote{\url{https://www.ctan.org/pkg/bibtex8bit}}
\item zložitosť tvorby vlastných formátovacích štýlov~\cite{patashnik1988:styles} (hoci je dostupné riešenie na automatizované generovanie štýlov)\footnote{\url{https://www.ctan.org/pkg/custom-bib}}
\item výkonnostné problémy (pretečenie pamäti pri práci s~veľkými bibliografickými databázami)~\cite{biblatex:manual2016}
\item slabá podpora tvorby odkazov v~texte dokumentu~\cite{bibtex:faq} (hoci sú dostupné flexibilnejšie možnosti)\footnote{\url{https://www.ctan.org/pkg/natbib}, \url{https://www.ctan.org/pkg/cite}}
\item absencia dnes už štandardných polí, napr. poľa \texttt{url} (hoci sú dostupné alternatívne riešenia)\footnote{\url{https://www.ctan.org/pkg/natbib}, \url{https://www.ctan.org/pkg/babelbib}}
\item chýbajúca podpora lokalizácie a viacjazyčnosti citácií~\cite{Harders2002} (hoci je riešenie dostupné)\footnote{\url{https://www.ctan.org/pkg/babelbib}}
\end{enumerate}

\subsection{Kompilácia}

Na korektné vysádzanie zdrojového dokumentu sú potrebné minimálne tri preklady \TeX ovým kompilátorom a jeden programom \BibTeX. Globálne aplikovateľná schéma na sadzbu bibliografie pomocou \BibTeX u~je nasledovná~\cite{Markey2009}:

\begin{center}
\LaTeX\ (\BibTeX\ \LaTeX)$^+$ \LaTeX\
\end{center}

\noindent Oproti sadzbe bibliografie bez použitia externého programu je síce počet potrebných prekladov vyšší, na druhej strane však táto \uv{zložitosť} prináša riešenia na takmer všetky vyššie spomenuté problémy spojené s~použitím iba čistého \LaTeX u.




%%%%%%%%%%%%% BIBLATEX %%%%%%%%%%%%%%%

\section{BibLaTeX}

Inou možnosťou externého programu na sadzbu bibliografie je modernejší a flexibilnejší \LaTeX ový balík BibLaTeX. Tento balíček je kompletnou reimplementáciou prostriedkov na prácu s~bibliografiou v~systéme \LaTeX, často označovaný aj ako nástupca \BibTeX u~\cite{ctan:bibtex,hufflen2011}. Na formátovanie záznamov používa výhradne \LaTeX ové makrá a na spracovanie bibliografickej databázy (\ref{bib:file}) a jednotlivých položiek nástroj Biber~\cite{biblatex:manual2016}.

\subsection{Použitie}

Použitie balíka BibLaTeX je mierne odlišné od tradičného \BibTeX u. Príkazy majú nielen odlišnú syntax, ale poskytujú aj rozsiahlejšie možnosti práce s~bibliografickými záznamami. Formátovací štýl (je možné špecifikovať bibliografický a citačný štýl zvlášť) sa definuje priamo ako voľba balíka pri jeho načítaní, t.\,j. ako voliteľný argument príkazu \cmd{\usepackage}. Na špecifikovanie bibliografickej databázy slúži príkaz \cmd{\addbibresource}, kde je potrebné uviesť celý názov súboru aj s~príponou \cmd{.bib}. Na vysádzanie samotnej bibliografie v~texte slúži príkaz \cmd{\printbibliography}, ktorý sa v~dokumente môže vyskytovať \emph{aj} viackrát. Samozrejme na tvorbu odkazu v~texte dokumentu slúži príkaz \cmd{\cite} a jeho varianty. Nasledujúca ukážka kódu pokrýva len základnú štruktúru dokumentu, použitie príkazov je omnoho komplexnejšie:

\begin{minted}{latex}
\documentclass{...}
\usepackage[...]{biblatex}
\addbibresource{<databáza01.bib>}
\addbibresource{<databáza02.bib>}
...
\begin{document}
\cite{...}
...
\printbibliography
\end{document}
\end{minted}

\subsection{Výhody a nevýhody}

Balík BibLaTeX rieši množstvo problémov uvedených v~prípade \BibTeX u. Medzi tie najvýznamnejšie patrí~\cite{ctan:biblatex}:

\begin{enumerate}
\item plná podpora kódovania Unicode
\item pokročilé možnosti radenia (použité technológie \emph{Unicode Collation Algorithm} a \emph{Unicode Common Locale Data Repository} (CLDR))
\item viacjazyčnosť záznamov (balíky \texttt{babel} a \texttt{polyglossia})
\item rozšírený formát bibliografických záznamov
\item veľké množstvo dostupných štýlov
\item flexibilné vytváranie nových štýlov
\end{enumerate}

\noindent Samozrejme, tento zoznam je len výňatok z~bohatej funkcionality, ktorú BibLaTeX ponúka~\cite{biblatex:manual2016}. Dôkazom toho je aj minimálny počet nevýhod tohoto balíka. Za všetky je možné spomenúť nekompatibilitu medziformátu sadzby bibliografie s~pôvodným \BibTeX ovým riešením~\cite{stack:ex:biblatex:drawback}, ktorý býva vyžadovaný pri predkladaní vydavateľovi.
\subsection{Kompilácia}

Preklad prebieha analogicky ako u~\BibTeX u. Najskôr sa prekladá \TeX ovým kompilátorom, následne sa použije spomínaný nástroj Biber nad vygenerovaným súborom \cmd{.bcf} a nakoniec je potrebný ešte jeden preklad kompilátorom \TeX u. Schéma sadzby dokumentu za použitia BibLaTeXu vyzerá nasledovne\footnote{koncovky súborov nie je potrebné uvádzať}:

% \begin{figure}[!htbp]
% \begin{minipage}[c]{0.35\textwidth}
% \centering
% \begin{minted}{bash}
% latex <dokument>.tex
% biber <dokument>.bcf
% latex <dokument>.tex
% \end{minted}
% \end{minipage}%
% \hfill
% \begin{minipage}[c]{0.25\textwidth}
% \centering
% alebo
% \end{minipage}%
% \hfill
% \begin{minipage}[c]{0.4\textwidth}
% \centering
% \begin{minted}{bash}
% latex <dokument>
% biber <dokument>
% latex <dokument>
% \end{minted}
% \end{minipage}%
% \end{figure}

\begin{minted}{bash}
latex <dokument>[.tex]
biber <dokument>[.bcf]
latex <dokument>[.tex]
\end{minted}



%%%%%%%%%%%%% BIB SUBOR %%%%%%%%%%%%%%%

\section{Databáza bibliografických záznamov (\texttt{.bib} súbor)}\label{bib:file}

Pre kompletnosť tejto kapitoly je žiadúce uviesť aj samotný formát bibliografickej databázy. Tá obsahuje jednotlivé bibliografické záznamy, každý takýto záznam má svoj typ, jedinečný identifikátor a (typicky) niekoľko dvojíc \emph{pole--hodnota} definujúce práve samotné bibliografické údaje. Všeobecný vzor takéhoto záznamu vyzerá nasledovne:

\begin{minted}{latex}
@<typ záznamu>{identifikátor,
  <názov poľa> = {hodnota},
  ...
  <názov poľa> = {hodnota}
}
\end{minted}

\noindent Zoznam podporovaných typov záznamov \BibTeX u~je uvedený v~prílohe v~tabuľke~\ref{tab:bibtex:entry:types}. Všetky tieto typy sú aplikovateľné aj pre BibLaTeX, a to buď priamo alebo definovaním aliasu. Rozdielom je akurát to, že BibLaTeX definuje naviac ešte niekoľko ďalších typov. Pre kompletný zoznam viď dokumentáciu balíka BibLaTeX~\cite{biblatex:manual2016}.

Obdobná situácia je aj v~prípade polí záznamov. Tie pre \BibTeX\ je možné nájsť v~prílohe v~tabuľke~\ref{tab:bibtex:entry:fields}. Balík BibLaTeX poskytuje spätnú kompatibilitu pre všetky tieto polia a k~tomu ponúka ďalšie. Okrem \emph{bežných} polí sú to aj polia \emph{špeciálne}, ktoré slúžia napríklad na nastavenie jazyka daného bibliografického záznamu pre podporu viacjazyčnosti.

\section{Zhrnutie}

Na jednoduchú sadzbu bibliografie jednorázového dokumentu s~malým počtom citácií je najvýhodnejšie použiť vstavanú funkcionalitu \LaTeX u. Pri rozsiahlejších dokumentoch s~väčším počtom citácií je však už výhodné použiť služby externých programov na sadzbu bibliografie. Takýmto prístupom oddelenia formy od obsahu (bibliografická databáza sa nachádza v~samostatnom súbore, formátovacie štýly taktiež osobitne) je možné dosiahnuť vysokú škálovateľnosť, znovupoužiteľnosť bibliografických záznamov a flexibilnú a efektívnu manipuláciu s~bibliografickými citáciami.

Okrem samotného \BibTeX u~existuje množstvo programov na ňom založených, ich problémom však je práve skutočnosť, že vychádzajú z~\BibTeX u. Týka sa to najmä použitia formátovacích štýlov, hoci niektoré sa pokúšajú o~nahradenie jazyka \gls{bst} iným, modernejším, programovacím jazykom (prevažne \gls{xml})~\cite{hufflen2011,hufflen2008}.

Spomedzi dostupných možností sadzby bibliografie v~systéme \LaTeX~\cite{talbot2013,Mittelbach2004} vychádza ako najlepšia voľba balík BibLaTeX s~nástrojom Biber na preklad~\cite{hufflen2011,biber:manual2016}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% IMPLEMENTACIA

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Návrh a implementácia}\label{ch:implementation}

Kapitola \ref{ch:facilities:iso690}\ poukazuje na existujúce riešenia rôznych programov, nástrojov či služieb, ktoré podporujú tvorbu bibliografických odkazov a citácií podľa normy \gls{iso} 690. Samostatná kapitola \ref{ch:latex:bibliography}\ je zameraná na sadzbu bibliografie v~systéme \LaTeX. Na základe týchto prehľadových zhrnutí je v~tejto kapitole zdôvodnený výber použitého riešenia, rovnako ako aj popis samotnej implementácie.

\section{Existujúce štýly \glsentrytext{iso} 690}\label{sec:iso690}

\subsection{czechiso}

Pre české normy \gls{csn} \gls{iso} 690:1996~\cite{csn:iso690:1996} a \gls{csn} \gls{iso} 690-2:2000~\cite{csn:iso690:2:2000} existuje pre \BibTeX\ neoficiálny formátovací štýl \texttt{czechiso} z~roku 2006. Autorom je David Martinek a tento štýl je dostupný na adrese \url{http://www.fit.vutbr.cz/~martinek/latex/czechiso.html}. Táto implementácia nezodpovedá normám presne, niektoré vyžadované položky bibliografických záznamov absentujú, použité funkcie by bolo vhodné prepísať aby splňovali požiadavky normy.

\subsection{biblatex-iso690}

V~roku 2011 vznikla prvá referenčná implementácia bibliografického a citačného štýlu pre balík BibLaTeX podľa normy \gls{iso} 690. Tá však vychádzala z~predošlých verzií noriem~\cite{csn:iso690:1996,csn:iso690:2:2000} a prevažne sa pridržiavala českej interpretácie~\cite{Bratkova2008}. Autorom je Michal Hoftich a štýl bol sprístupnený ako neoficiálna verzia na adrese \url{https://github.com/michal-h21/biblatex-iso690}. Podobne ako v~predchádzajúcom prípade, ani táto implementácia nezodpovedá normám presne, na domovskej stránke projektu je zaznamenaných niekoľko nahlásených problémov ohľadom funkcionality a použitia tohoto štýlu.

\section{Voľba vhodného nástroja} %Návrh

Na základe prieskumu možností sadzby bibliografie v~systéme \LaTeX\ (kapitola \ref{ch:latex:bibliography}), existujúcich implementácií štýlov \emph{splňujúcich} normu \gls{iso} 690 (sekcia \ref{sec:iso690}), požiadaviek na začlenenie podpory sadzby bibliografie podľa normy \gls{iso} 690 do balíka \textsf{fithesis3}~\cite{novotny2015} a ďalších faktorov (o.\,iného kapitola \ref{ch:facilities:iso690}), sa pokračovalo vo vývoji referenčnej implementácie \textsf{biblatex-iso690} pre balík BibLaTeX.

\section{Implementácia}

Implementácia štýlu \textsf{biblatex-iso690} sa pridržiava konvencií tvorby bibliografických a citačných štýlov uvedených v~referenčnej príručke balíka BibLaTeX~\cite{biblatex:manual2016}.

\subsection{Základná štruktúra}

Štruktúra pomenovania súborov vyčleňuje štyri základné typy. Bibliografické štýly sú definované v~súboroch s~koncovkou \texttt{.bbx}, citačné štýly v~súboroch s~koncovkou \texttt{.cbx}, súbory s~príponou \texttt{.dbx} slúžia na definovanie nových dátových modelov a lokalizačné súbory sú uložené v~súboroch s~koncovkou \texttt{.lbx}. Často používané makrá, definície, formáty a príkazy sú umiestnené v~jadre BibLaTeXu v~súbore \path{biblatex_.def}. Ich zdieľanie naprieč viacerými štýlmi je umožnené vďaka načítaniu tohoto súboru až následne po \texttt{.bbx} a \texttt{.cbx} súboroch.

Balík BibLaTeX poskytuje vo svojom základe aj niekoľko bibliografických a citačných štýlov. Vďaka príkazom \cmd{\RequireCitationStyle} a \cmd{\RequireBibliographyStyle} je možné na ich základe vytvoriť vlastné.

\subsection{\texttt{.bbx} súbory}

Súbory s~koncovkou \texttt{.bbx} slúžia na definovanie bibliografických štýlov. Typická štruktúra súboru bibliografického štýlu sa skladá z~niekoľkých základných častí:

\begin{enumerate}
\item definícia dispozícií a celkového rozloženia citácií\\(\cmd{\defbibenvironment},\dots)
\item definícia poradia prvkov citácie pre jednotlivé typy bibliografických záznamov (\cmd{\DeclareBibliographyDriver},\dots)
\item definícia prípadných ďalších volieb balíka\\(\cmd{\DeclareBibliographyOption},\dots)
\item definícia formátov jednotlivých polí bibliografických údajov (\cmd{\DeclareFieldFormat},\dots)
\item rôzne formátovacie makrá (\cmd{\newbibmacro},\dots)
\end{enumerate}

V~niektorých prípadoch sa dajú bez problémov využiť existujúce makrá poskytované BibLaTeXom, väčšinu makier je však nutné prispôsobiť špecifickým potrebám normy. Napríklad vďaka komplexnému definovaniu oddeľovačov jednotlivých prvkov citácií sú niektoré zmeny len na úrovni predefinovania príslušného oddeľovača.

Konkrétnym príkladom môže byť zmena interpunkcie medzi hlavným názvom a podnázvom citovanej jednotky, kedy postačí zmeniť toto interpunkčné znamienko na jednom mieste v~kóde:

\begin{minted}{latex}
\renewcommand*\subtitlepunct{\addspacecolon\addspace}
\end{minted}

\noindent Takýto prístup prináša veľkú flexibilitu prispôsobovania interpunkcie priamo podľa požiadaviek tvorcu citácie, nakoľko samotná norma sa od toho taktiež dištancuje (viď~\ref{norm:consistency}).

V~českom prostredí sa ako oddeľovač názvu a podnázvu zvykne používať dvojbodka. Pritom z~historických dôvodov bolo mylne zaužívané písať okolo tejto dvojbodky medzery z~oboch strán~\cite{Bratkova2010}. Takúto požiadavku však už nie je v~rámci balíka BibLaTeX jednoduché zaručiť, nakoľko balík má výborne implementovanú funkcionalitu prevencie bielych miest~\cite{biblatex:manual2016}. Riešením je pozmeniť \emph{jadro} BibLaTeXu, konkrétne makrá zabezpečujúce výpis interpunkcie. Nakoľko je písanie medzery pred dvojbodkou historickým prežitkom, táto možnosť je dostupná len pri voľbe balíka \texttt{spacecolon}. Prednastavene je táto voľba vypnutá.

Nasleduje komplexná ukážka predefinovania oddeľovača názvu a podnázvu spolu s~rozlišovaním voľby \texttt{spacecolon}:

\begin{minted}{latex}
\renewcommand*\subtitlepunct{\addspacecolon\addspace}

\newcommand\addspacecolon{%
  \iftoggle{bbx:spcolon}
    {\addnbspace\blx@addsppunct{colon}}
    {\unspace\blx@addsppunct{colon}}%
}
\end{minted}

\subsection{\texttt{.cbx} súbory}\label{cbx}

Súbory s~koncovkou \texttt{.cbx} slúžia na definovanie citačných štýlov. BibLaTeXom poskytovaná základná množina citačných štýlov je implementovaná na kvalitatívne vysokej úrovni, na základe čoho neboli potrebné výrazné zmeny v~implementácii.

Metódu citovania formou priebežných poznámok sa napriek všetkému nepodarilo implementovať. Táto metóda totiž vyžaduje číslovanie každého odkazu v~texte dokumentu jedinečným číslom, aj v~prípade citovania toho istého diela. Prostriedky BibLaTeXu a Biberu na takýto spôsob citovania nie sú stavané a dosiaľ sa nepodarilo navrhnúť žiadnu alternatívu pre túto citačnú metódu.

\subsection{\texttt{.dbx} súbory}

Súbory s~koncovkou \texttt{.dbx} slúžia na definovanie nových dátových modelov nad rámec BibLaTeXom poskytovanej množiny. Ide prevažne o~nové typy alebo polia bibliografických záznamov v~\texttt{.bib} súbore.

Na základe odporúčaní interpretácie normy~\cite{Bratkova2011} boli vytvorené nové polia pre údaje, ktoré balík BibLaTeX bežne neposkytuje (viď tabuľku~\ref{tab:newfields}). Takýmto spôsobom bolo možné docieliť korektné poradie jednotlivých prvkov v~bibliografickej citácii splňujúce normu \gls{iso} 690.

\begin{table}[!htbp]
\begin{tabularx}{\textwidth}{llX}
  %\toprule
  \textbf{Názov poľa} & \textbf{Typ záznamu} & \textbf{Popis}\\
  \midrule
  \texttt{supervisor}     & \texttt{thesis} & vedúci záverečnej kvalifikačnej práce\\
  \texttt{classification} & \texttt{patent} & klasifikácia podľa patentového triedenia\\
  \bottomrule
\end{tabularx}
\caption{Nové polia pre bibliografické údaje}
\label{tab:newfields}
\end{table}

\subsection{\texttt{.lbx} súbory}

Súbory s~koncovkou \texttt{.lbx} slúžia na definovanie lokalizačných reťazcov. Balík BibLaTeX poskytuje lokalizáciu v~26 jazykových mutáciách~\cite{biblatex:manual2016}, každý lokalizačný súbor obsahuje vyše 300 lokalizačných reťazcov~\cite{english:lbx}, aj napriek tomu bolo kvôli norme \gls{iso} 690 nutné zadefinovať ďalšie (viď tabuľku~\ref{tab:newl10n} -- momentálne je balík lokalizovaný v~troch jazykoch).

\begin{table}[!htbp]
\begin{tabularx}{\textwidth}{lXXX}
  %\toprule
  \textbf{Reťazec} & \textbf{Anglicky} & \textbf{Česky} & \textbf{Slovensky}\\
  \midrule
  \texttt{at}           & {at} & {v} & {v}\\
  \texttt{bysupervisor} & {supervised by} & {vedouc\'{i} pr\'{a}ce} & {ved\'{u}ci pr\'{a}ce}\\
  \texttt{urlalso}      & {available also from} & {dostupn\'{e} tak\'{e} z} & {dostupn\'{e} tie\v{z} z}\\
  \bottomrule
\end{tabularx}
\caption{Nové lokalizačné reťazce}
\label{tab:newl10n}
\end{table}

Tieto lokalizačné reťazce môžu byť následne použité v~rôznych makrách pomocou rodiny príkazov \cmd{\bibstring} alebo \cmd{\mainstring}. Normou požadovaná viacjazyčnosť citácie musela byť riešená zavedením nových príkazov \cmd{\mainlstring} a \cmd{\mainsstring} (slúžiacich na výpis dlhej a krátkej formy lokalizačného reťazca), nakoľko ani samotný BibLaTeX takúto podporu neposkytuje. Komplexnú ukážku použitia lokalizačných reťazcov možno demonštrovať na príklade definovania formátu poľa \texttt{url}:

\begin{minted}{latex}
\DeclareFieldFormat*{url}{%
  \iffieldundef{urlyear}
  {\mainlstring{urlalso}\addcolon\space\url{#1}}
  {\mainlstring{urlfrom}\addcolon\space\url{#1}}
}
\end{minted}

\noindent Formát poľa \texttt{url} je podmienený výskytom údaja \texttt{urldate} v~bibliografickom zázname. Práve na základe tohoto údaja sa rozhoduje, ktorý lokalizačný reťazec sa má použiť. V~prípade jeho uvedenia sa použije štandardná uvádzacia formula \uv{\emph{dostupné z}}, v~opačnom prípade -- t.\,j. ak dielo nie je publikované elektronicky -- sa podľa výkladu normy použije formula \uv{\emph{dostupné tiež z}}. Samozrejme, toto sú ukážky slovenskej lokalizácie.
\\
\\
\emph{Poznámka:} V~rámci tejto práce došlo k~finalizácii prekladu slovenskej lokalizácie Martina Vrábela pre balík BibLaTeX, ktorá dovtedy nebola v~balíku k~dispozícii. Bolo potrebné preložiť spomínaných vyše 300 reťazcov, avšak väčšina z~nich nemá v~praxi veľké opodstatnenie. Tie podstatné sú obsiahnuté v~menšine a na ich preklad bol použitý výklad samotnej normy, rovnako aj knihovnícke databázy a katalógy.


\section{Vyhodnotenie}\label{resume}

Ako už bolo spomenuté v~časti~\ref{cbx}, nie všetky požiadavky normy je možné implementovať. Pre väčšinu takýchto prípadov však existujú alternatívne riešenia. Tie by sa vo všeobecnosti dali rozdeliť na:

\begin{itemize}
\item tie, ktoré je možné zaistiť na úrovni \texttt{.bib} súboru tvorcom bibliografickej databázy
\item a tie, ktoré sa dostávajú do rozporu napríklad s~typografickými pravidlami (toto sa týka napríklad zalamovania url adries na konci riadkov, kde norma vyžaduje zalamovanie len na miestach jedného alebo dvojitého lomítka), celkovo je v~prípade citácií náročné zaručiť dodržiavanie všetkých typografických náležitostí
\end{itemize}

\noindent Konkrétne upozornenia vzťahujúce sa na tvorbu bibliografických databáz sú popísané v~dokumentácii balíka \textsf{biblatex-iso690}. Zároveň je žiadúce odporučiť čitateľa na samotnú normu \gls{iso} 690~\cite{csn:iso690:2011}, v~ktorej sa nachádzajú všetky potrebné náležitosti tvorby bibliografických odkazov a citácií. V~prípade nedostupnosti oficiálnej verzie normy spadá toto odporúčanie na niektorú z~jej interpretácií~\cite{Kratochvil2011,Biernatova2011,Bratkova2011,Firstova2011}.

V~rámci procesu implementácie balíka \textsf{biblatex-iso690} bola zahrnutá aj fáza testovania. Samotný balík BibLaTeX využíva testovací systém \textsf{l3build} na kontrolu výstupného \texttt{log} súboru voči predlohe. Pre účely balíka \textsf{biblatex-iso690} však takýto prístup nie je vhodný. Potrebná je hlavne kontrola dodržania správneho poradia prvkov citácie. Na tento účel slúži porovnávanie výstupného \gls{pdf} súboru voči predlohe.

Predlohy na testovanie boli vytvorené v~prostredí \texttt{thebibliography} (viď~\ref{bib:pure:latex}) tak, aby splňovali normu \gls{iso} 690. Voči tejto predlohe boli následne počas celého cyklu vývoja vykonávané regresné testy. Predlohu, rovnako aj bibliografickú databázu slúžiacu na testovanie a príslušný \texttt{Makefile} na spustenie testov sú súčasťou elektronickej prílohy.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% ZAVER

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Záver}

Táto práca sa zaoberá sadzbou bibliografie podľa normy \gls{iso} 690. Dodržiavanie tejto normy je v~mnohých ohľadoch problematické, na čo je poukázané aj v~sekcii~\ref{norm:ambiguous} a naprieč celou kapitolou~\ref{ch:facilities:iso690}. Túto problematiku pripúšťa aj samotná norma, ktorá hneď v~úvode svojho výkladu uvádza, že \uv{\emph{\dots túto normu nie je možné použiť na počítačovo generované citácie\dots}}~\cite{csn:iso690:2011}. Aj napriek tomuto úvodnému tvrdeniu sa táto práca zaoberá jej implementáciou pre automatické generovanie citácií.

V~kapitole~\ref{ch:norm} je v~stručnosti popísaná norma \gls{iso} 690, kvôli lepšej orientácii v~ďalšom texte. Následne je v~kapitole~\ref{ch:facilities:iso690} prehľadové zhrnutie existujúcich implementácií normy skrz niekoľkých softvérových programov, nástrojov a služieb. Tento prehľad obsahuje pri každom produkte stručný popis funkcionality a následne zopár ukážok, akým spôsobom je dodržiavanie normy pri danom riešení implementované. Zároveň poukazuje na miesta v~rámci implementácie, ktoré spôsobujú komplikácie. Tieto ukážky a celkovo aj prehľad nie sú syntéza vzájomného porovnávania jednotlivých produktov. Skôr bolo cieľom priniesť ucelenejší pohľad na nezrovnalosti a nejasnosti normy prostredníctvom týchto riešení. Čitateľ si tak môže lepšie uvedomiť, aká komplexná je problematika normy \gls{iso} 690. V~týchto ukážkach preto nie sú zahrnuté \emph{bežné} prehrešky voči norme, ako je napríklad chybný výpis interpunkcie, objavujúci sa u~väčšiny predstavených produktov.

Hlavným cieľom práce je sadzba bibliografie v~systéme na prípravu dokumentov \LaTeX, konkrétne za využitia \LaTeX ového balíka BibLaTeX. V~kapitole~\ref{ch:latex:bibliography} sú zhrnuté výhody a nevýhody troch základných prístupov sadzby bibliografie v~tomto systéme a ich faktické porovnanie. Kapitola~\ref{ch:implementation} sa už zaoberá samotnou implementáciou, ktorá vychádza z~neoficiálnej referenčnej implementácie od Michala Hofticha dostupnej na adrese \url{https://github.com/michal-h21/biblatex-iso690}. V~tejto kapitole je niekoľko ukážok typických použití naprieč rozsiahlymi možnosťami balíka BibLaTeX, aby sa poukázalo aspoň na základné princípy tvorby bibliografických a citačných štýlov v~tomto balíku.

Príprava balíka \textsf{biblatex-iso690} do oficiálnej podoby prebiehala paralelne s~touto prácou aj ako projekt v~rámci Programu dekana Fakulty informatiky \gls{mu} pre podporu študentských výskumných a vývojových projektov. Základnou požiadavkou bolo v~tomto prípade aj zverejnenie balíka v~oficiálnom centrálnom archíve \gls{ctan}. Publikovaním v~repozitári \gls{ctan} (dostupné na \url{https://www.ctan.org/pkg/biblatex-iso690}) sa tento balík stane aj súčasťou \TeX ovej distribúcie \TeX\ Live 2016. Zároveň je balík začlenený do oficiálnej šablóny Masarykovej univerzity na sadzbu záverečných kvalifikačných prác \textsf{fithesis3}~\cite{novotny2015}. Ďalším výstupom je dokončenie prekladu slovenskej lokalizácie BibLaTeXu, ktorého pôvodným autorom je Martin Vrábel. Samozrejme vznikla užívateľská dokumentácia, v~ktorej je možné nájsť doménu použitia balíka \textsf{biblatex-iso690}. Vďaka spomenutým faktom sa citovanie podľa normy \gls{iso} 690 stáva široko dostupným už aj v~sádzacom systéme \LaTeX.

Nakoľko existujúce implementácie popísané v~kapitole~\ref{ch:facilities:iso690} obsahujú množstvo nepresností, dosiahnuté vedomosti nadobudnuté pri tvorbe tejto práce môžu byť využité na ich eliminovanie. Ďalej je tu napríklad sekcia \emph{Publikácie} v~\gls{is} \gls{mu}, ktorá umožňuje tvorbu citácií podľa normy \gls{iso} 690. Avšak rovnako ako vo všetkých ostatných prípadoch, aj tu sa nachádza priestor na zlepšenie ohľadom dodržiavania normy. Samozrejme, treba zobrať na vedomie, že ani implementácia \textsf{biblatex-iso690} sa nedokáže vyhnúť všetkým záludnostiam normy, tak ako je popísané v~závere tejto práce v~sekcii~\ref{resume}.

Bibliografické citácie uvedené v~tomto dokumente sú vysádzané za použitia implementovaného balíka \textsf{biblatex-iso690}, môžu teda slúžiť ako referenčný \nameref{biblist}.

\printbibliography[heading=bibintoc,title={Zoznam bibliografických citácií\label{biblist}}]

%Print the glossary
%\printglossaries
\printglossary[title={Zoznam skratiek},toctitle={Zoznam skratiek}]

%\appendix %% Start the appendices.

\renewcommand{\appendixtocname}{Zoznam príloh}
\renewcommand{\appendixpagename}{Prílohy}

\begin{appendices}

\chapter{Zoznam elektronických príloh}

Súčasťou tejto bakalárskej práce sú nasledovné elektronické prílohy:

\begin{itemize}
\item \texttt{biblatex-iso690.zip} -- aktuálna verzia balíka \textsf{biblatex-iso690} vrátane dokumentácie a testovacích súborov
\item \texttt{thesis.zip} -- zdrojové súbory aktuálnej verzie tejto práce
\end{itemize}

\chapter{Bibliografické záznamy B\textsc{ib}\TeX u}

\begin{table}[!htbp]
\begin{tabularx}{\textwidth}{lX}
  \toprule
  \textbf{Názov} & \textbf{Popis}\\
  \midrule
  \texttt{article} & článok v~časopise\\
  \texttt{book} & publikovaná knižná monografia\\
  \texttt{booklet} & vytlačené, zviazané dielo bez vydavateľa\\
  \texttt{conference} & článok v~zborníku konferencie\\
  \texttt{inbook} & časť, kapitola, sekcia, etc. knihy\\
  \texttt{incollection} & kapitola (časť) knihy s~vlastným autorom a názvom\\
  \texttt{inproceedings} & článok v~zborníku konferencie (totožné s~typom \texttt{conference})\\
  \texttt{manual} & technická dokumentácia\\
  \texttt{mastersthesis} & diplomová práca\\
  \texttt{misc} & ostatné diela\\
  \texttt{phdthesis} & dizertačná práca\\
  \texttt{proceedings} & zborník konferencie\\
  \texttt{techreport} & správa vydaná inštitúciou\\
  \texttt{unpublished} & nevydané dielo s~autorom a názvom\\
  \bottomrule
\end{tabularx}
\caption{Štandardné typy záznamov \BibTeX u; zdroj~\cite{patashnik1988:bibtexing}}
\label{tab:bibtex:entry:types}
\end{table}

\begin{table}[!htbp]
\begin{tabularx}{\textwidth}{lX}
  \toprule
  \textbf{Názov} & \textbf{Popis}\\
  \midrule
  \texttt{address} & adresa vydavateľa\\
  \texttt{annote} & anotácia\\
  \texttt{author} & meno (mená) autora (autorov)\\
  \texttt{booktitle} & názov knihy\\
  \texttt{chapter} & číslo kapitoly, sekcie, časti, etc.\\
  \texttt{crossref} & identifikátor iného záznamu pre krížový odkaz\\
  \texttt{edition} & číslo vydania\\
  \texttt{editor} & meno (mená) editora (editorov)\\
  \texttt{howpublished} & spôsob publikovania\\
  \texttt{institution} & inštitúcia vydávajúca technickú správu\\
  \texttt{journal} & názov časopisu\\
  \texttt{key} & kľúč slúžiaci na abecedné radenie, krížové odkazy a tvorbu identifikátora v~prípade absencie poľa \texttt{author}\\
  \texttt{month} & mesiac publikovania / napísania diela\\
  \texttt{note} & ľubovoľné dodatočné informácie\\
  \texttt{number} & číslo časopisu, technickej správy, príp. číslo edície knihy\\
  \texttt{organization} & organizácia zastrešujúca konferenciu alebo vydávanie manuálu\\
  \texttt{pages} & číslo, čísla, rozsah čísel strán\\
  \texttt{publisher} & meno vydavateľa\\
  \texttt{school} & názov školy (pre záverečné práce)\\
  \texttt{series} & názov edície\\
  \texttt{title} & názov diela\\
  \texttt{type} & typ technickej správy\\
  \texttt{volume} & ročník časopisu\\
  \texttt{year} & rok publikovania / napísania diela\\
  \bottomrule
\end{tabularx}
\caption{Štandardné polia \BibTeX u; zdroj~\cite{patashnik1988:bibtexing}}
\label{tab:bibtex:entry:fields}
\end{table}

\end{appendices}

\end{document}
